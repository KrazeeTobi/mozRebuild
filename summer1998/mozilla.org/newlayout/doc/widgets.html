<HTML>
<HEAD>
<TITLE>New Layout: Widget Library</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT=0 MARGINWIDTH=0>

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP ROWSPAN=2><IMG
SRC="../../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH=600 HEIGHT=58 VSPACE=0 HSPACE=0></TD></TR></TABLE>
<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR>


<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=TOP><IMG ALT=""
SRC="../../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP ROWSPAN=2>

<BR><TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../..//"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../mission.html"> Our Mission</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../about.html"> Who We Are</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../get-involved.html"> Getting Involved</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../community.html"> Community</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../advocacy.html"> Editorials</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../news.html"> What's New</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../development.html"><B> Development</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../blue-sky/"> Blue Sky</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../projects.html"> Projects</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../source-code.html"><B> Source Code</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../source.html"> Getting It</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../docs/"> Documentation</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../NPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../bugs/"> Bugs</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../search"><B> Search</B></A></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../feedback.html"><B> Feedback</B></A></TD></TR>
</TABLE><BR>

</TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD VALIGN=TOP><IMG ALT=""
SRC="../../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP ROWSPAN=2>
<P><BR>






<HR WIDTH="100%"><h2>New Layout: Widget Library</h2>
Author: <A HREF="mailto:kmcclusk@netscape.com">Kevin
McCluskey</A>
<BR>Updated: 6/19/98
<HR WIDTH="100%">
<BR>
<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
<TR>
<TD><B>Overview</B></TD>
</TR>
</TABLE>

<TABLE WIDTH="80%" >
<TR>
<TD>The widget library provides a cross-platform
abstraction for user interface widgets, windows and events.

<P>Initially, the widget library will
be used to implement HTML form elements, event handlers, the web-widget
container window and the JavaScript interfaces to form elements.
In the future it will be expanded to support other applications which require
cross-platform widget support.

<P>The HTML form elements place specific
requirements on the widget library. The HTML form elements define input
widgets such as textboxes, textareas, listboxes, radiobutton, checkboxes,
comboboxes and file selectors. These input widgets take on the look and
feel of the platform the application is running on. The web-widget
container window has a scrollbar and receives mouse and keyboard notification
messages. The JavaScript interface to form elements include additional
attributes and widget behaviors which can be accessed only through JavaScript.
<BR>
<BR></TD>
</TR>
</TABLE>

<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
<TR>
<TD><B>Major Components</B></TD>
</TR>
</TABLE>

<BR>The set of widgets includes the
following:
<BR>
<TABLE BORDER WIDTH="80%" >
<TR>
<TD BGCOLOR="#CCFFFF"><B>Name</B></TD>

<TD BGCOLOR="#CCFFFF"><B>Purpose</B></TD>

<TD BGCOLOR="#CCFFFF"><B>Interface</B></TD>
</TR>

<TR>
<TD>window</TD>

<TD>Rectangular window for rendering
graphics (using the gfx library) and attaching widgets.</TD>

<TD>nsIWidget</TD>
</TR>

<TR>
<TD>textbox</TD>

<TD>Single line of text input.</TD>

<TD>nsITextWidget</TD>
</TR>

<TR>
<TD>textarea</TD>

<TD>Multiple lines of text input.</TD>

<TD>nsITextArea</TD>
</TR>

<TR>
<TD>button</TD>

<TD>Push button.</TD>

<TD>nsIButton</TD>
</TR>

<TR>
<TD>listbox</TD>

<TD>Presents multiple items with one or more items selected</TD>

<TD>nsIListBox</TD>
</TR>

<TR>
<TD>combobox</TD>

<TD>Combines a text box with a drop down list. The current
selection from the drop down list is displayed in the text box.</TD>

<TD>nsIComboBox</TD>
</TR>

<TR>
<TD>tab</TD>

<TD>Presents multiple tabs. Tab selection events are generated
when the user clicks on each tab.</TD>

<TD>nsITabWidget</TD>
</TR>

<TR>
<TD>radiobutton</TD>

<TD>Presents a button when can be shown in a checked or unchecked
state. It's appearance indicates it is mutually exclusive among a group
of radio button's.</TD>

<TD>nsIRadioButton</TD>
</TR>

<TR>
<TD>checkbox</TD>

<TD>Presents a button when can be shown in a checked or unchecked
state</TD>

<TD>nsICheckButton</TD>
</TR>

<TR>
<TD>scrollbar</TD>

<TD>A horizontal or vertical scrollbar when sends events
when the user moves the thumb of the scrollbar</TD>

<TD>nsIScrollbar</TD>
</TR>

<TR>
<TD>fileselector</TD>

<TD>A dialog box which allows the user to browse the file
system and select a file or directory for saving or loading</TD>

<TD>nsIFileWidget</TD>
</TR>

<TR>
<TD>Events</TD>

<TD>Windows and other widgets generate events based on user-input
or programmatic changes.</TD>

<TD>nsGUIEvent</TD>
</TR>
</TABLE>

<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
<TR>
<TD><B>Implementation</B></TD>
</TR>
</TABLE>

<UL>
<LI>
The actual implementation for the widget
library abstraction uses the native toolkit's capabilities as much as is
feasible. The widget library will be implemented initially for Windows
95, Windows NT, MacOS, and variants of Unix running XLIB and MOTIF.
In the future we envision many other platforms being supported.</LI>
</UL>

<UL>
<LI>
HTML event handlers provide a unique
challenge for the widget library. Since HTML event handlers can be used
to capture low-level events such as mouse down and decide to discard the
event, A widget can not assume that when the user click's on it it will
receive focus or when the user presses a key in a text box that it will
be entered. The widget must pass events to a registered event handler
which decides whether the event is consumed or the widget should perform
it's default behavior.</LI>
</UL>

<UL>
<LI>
To display all of characters in many
languages a two-byte unicode character must be used rather than a single
byte ascii character. This presents challenges on platforms which don't
normally support unicode throughout their native toolkit.</LI>

<BR>
<LI>
Printing requires widgets to render
into a graphics context. Again, this can present difficulties if the native
toolkit does not provide sufficient capability for the rendering
of widgets.</LI>
</UL>

<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
<TR>
<TD><B>Dependencies</B></TD>
</TR>
</TABLE>

<UL>
<LI>
gfx, NSPR</LI>

<LI>
Windows95, NT - Win32 API
(Note: it is not dependent on MFC)</LI>

<LI>
Mac - MacOS</LI>

<LI>
Unix or Linux - XLIB X11R5 and MOTIF
1.2.</LI>

<LI>
Other OS's/windowing systems.</LI>
</UL>

<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
<TR>
<TD><B>Roadmap</B></TD>
</TR>
</TABLE>

<BR>The current abstract set of widgets
<U>is</U> sufficient to support cross-platform HTML forms and a viewer
test app.
<BR>The widgets have been implented for WIN32. They
are mostly complete for Linux and Irix running Motif 1.2 , X11R5.

<P>Next steps:

<P>Unix
<UL>
<LI>
Add support for tab and tooltip controls</LI>
</UL>
MacOs
<UL>
<LI>
Support viewer port to MacOS by
adding just enough widget library support to bring up the viewer app (nsIWidget,
nsIScrollbar) under MacOS.</LI>

<LI>
Add MacOS widgets to support HTML
forms. (nsIRadio, nsITextWidget, nsITextAreaWidget,nsIFileWidget, nsICheckButton.
etc)</LI>
</UL>
All platforms
<UL>
<LI>
Add internationalization and printing
support to all platforms Win32, Unix, and MacOS.</LI>

<LI>
Additonal widget and events will be
added as needed to support additional browser features such as toolbars
and popup menus.</LI>
</UL>

<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
<TR>
<TD><B>Known Bugs</B></TD>
</TR>
</TABLE>


<P>Win32
<UL>
<LI>
Can not set the background and foreground
color for each Widget</LI>

<LI>
Can not set the caret within a text
box</LI>

<LI>
The rectangular widget background
for checkbox's and radio buttons is not transparent. This causes a white
box to always be drawn around these widgets.</LI>
</UL>
Unix (Motif 1.2/ X11R6)
<UL>
<LI>
The following are not implemented, listbox, tooltips, tab
controls, combobox.</LI>
</UL>
MacOS
<UL>
<LI>
Un-implemented.</LI>
</UL>

<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
<TR>
<TD><B>Looking for help with</B></TD>
</TR>
</TABLE>
Mac and Unix platform ports / Performance tuning.

<P>Mac
<UL>
<LI>
window (nsIWidget)</LI>

<LI>
scrollbar (nsIScrollbar)</LI>

<LI>
window and scrollbar events (nsGUIEvent)</LI>

<LI>
text widget (nsITextWidget)</LI>

<LI>
textArea widget (nsITextAreaWidget)</LI>

<LI>
button (nsIButton)</LI>
</UL>
Unix (Motif 1.2/ X11R6)
<UL>
<LI>
Tooltips</LI>

<LI>
Tab controls</LI>

<LI>
Testing under Lesstif, SunOS (running Motif 1.x, 2.x)</LI>

<LI>
Performance tuning</LI>
</UL>

<BR>
<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
<TR>
<TD><B>Widget Module Owner - Kevin McCluskey</B></TD>
</TR>
</TABLE>
The widget module owner is responsible for coordinating
widget development and integrating source code from both Net and Netscape
developers. Please send <B>suggestions</B> or <B>offers to help </B>to
the <A HREF="mailto:kmcclusk@netscape.com">widget owner</A>




<P><BR>
</TD>


<TD VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

</TR>
<TR>


<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM><IMG ALT=""
SRC="../../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD VALIGN=BOTTOM><IMG ALT=""
SRC="../../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>
</TR>

<TR>

<TD BGCOLOR="#000000" COLSPAN=6><BR></TD>

<TD BGCOLOR="#000000" VALIGN=TOP>

<FONT COLOR="#AAAAAA" SIZE="-1">
Copyright &copy; 1998 Netscape Communications Corporation.
</FONT>
</FONT>
</TD>

<TD BGCOLOR="#000000" COLSPAN=2><BR></TD>
</TR>

</TABLE>
<P>
</BODY>
</HTML>
