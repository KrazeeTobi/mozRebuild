<HTML>
<HEAD>
   <META NAME="Author" CONTENT="Scott Furman">
   <TITLE>ElectricalFire Project History</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
      LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000">

<CENTER><B>ElectricalFire Compiler</B></CENTER>

<H1 ALIGN=CENTER>Project History</H1>

<CENTER><FONT COLOR="#FF0000"><FONT SIZE=+2>*** DRAFT *** CONTAINS UNCHECKED
"FACTS" ***</FONT></FONT>
<BR><FONT COLOR="#FF0000"><FONT SIZE=+2>*** DRAFT *** CONTAINS UNCHECKED
"FACTS" ***</FONT></FONT>
<BR><FONT COLOR="#FF0000"><FONT SIZE=+2>*** DRAFT *** CONTAINS UNCHECKED
"FACTS" ***</FONT></FONT>
<BR><FONT COLOR="#FF0000"><FONT SIZE=+2>*** DRAFT *** CONTAINS UNCHECKED
"FACTS" ***</FONT></FONT>

  <P>Author: <A HREF="mailto:Scott%20Furman%20%3Cfur@netscape.com%3E">Scott Furman</A> 
    <BR>
    Last Modified:<SCRIPT>document.write(document.lastModified);</SCRIPT>
</CENTER>

<HR WIDTH="30%">

<P>As 1996 drew to a close, Netscape and JavaSoft were like two prisoners
making a jail break - each desperately wanted to go their separate way
but, chained together at the ankle,&nbsp; they were forced to cooperate.
Outwardly, the two companies showed solidarity and issued
<A HREF="http://www.sun.com\/smi/Press/sunflash/9612/sunflash.961217.28872.html">joint
press releases</A>, but behind the scenes, engineers and executives from
the two companies squabbled.

<P>When Netscape first began to work with Sun engineers in mid-1995 on
incorporating Java into Navigator 2.0, their initial task was to modify
the code so that it worked on the dozen-plus platforms supported by Navigator.
(At the time, Sun's code only ran on their own hardware).&nbsp; Over the
next three years, Netscape engineers made numerous improvements to the
Java source code, created <A HREF="../../docs/refList/refNSPR/">a
portability package</A> so that Java would be easily migrated to new platforms,
and fixed security flaws.&nbsp; They even added entirely new capabilities
to Java, such as code signing, in which some Java suppliers could be trusted
by a user to access sensitive resources, like their hard disk.&nbsp; Netscape
engineers sent all these changes, in the form of patches, back to Sun to
be incorporated into their code.

<P>But something unexpected happened:&nbsp; JavaSoft frequently refused
to accept patches from Netscape and dug in their heels when it came to
accepting Netscape innovations.&nbsp; As far as JavaSoft was concerned,
Netscape was trampling on its God-given right to retain absolute control
over Java and they were determined to resist, even if it meant introducing
gratuitous incompatibilities or re-inventing technology.&nbsp; JavaSoft
had a severe case of NIH: said one JavaSoft engineer to his Netscape counterpart,
"If I used your code, then what would my job be ?".&nbsp; (<I>jar, need
you to confirm my paraphrasing of quote</I>)

<P>Each company thought they were indispensable to the other.&nbsp; Sun
believed Netscape was dependent on them as the sole provider of Java implementations
and Netscape thought that Sun relied on the Navigator browser as the only
significant means of Java technology distribution.&nbsp; In March of 1996,
Sun proved Netscape wrong by <A HREF="http://www.microsoft.com/presspass/press/1996/mar96/sunmspr.htm">licensing
Java to Microsoft</A>.&nbsp; Netscape employees were more baffled than
angry.&nbsp; Some predicted, <A HREF="http://java.sun.com/lawsuit/index.html">with
uncanny accuracy</A>, that Sun was being naive because Microsoft would
twist Java to suit its own purposes.

<P>Meanwhile, 3rd-party developers were becoming increasingly annoyed by
Java's sluggishness, slow start-up times and the incompatibilities between
Sun's Java and Netscape's.&nbsp; To Netscape, it seemed as if Sun was single-handedly
sabotaging the Java language.&nbsp; Rather than making Java fast, small
and portable, JavaSoft was concentrating on <A HREF="http://java.sun.com/pr/1997/april/pr970402-05.html">widening
the Java APIs</A> so that power of Java could be brought to <A HREF="http://java.sun.com/features/1997/sept/gadgets.html">jewelry
and telephones</A>. ("Rinnnnnng! Hello, JavaSoft ?&nbsp; It's the clue
phone.")

<P>Despite the softening relationship with Sun, Netscape was becoming increasing
reliant on Java technology: NetCaster, SmartUpdate and other Navigator
technologies were designed from the start with the assumption that all
Netscape browsers would incorporate a JVM.&nbsp; Netscape even had a project
to build a 100% pure-Java browser, <A HREF="http://www.internetwk.com/news/news0826-5.htm">referred
to in the press</A> as "Javigator".

<P>It was in this climate that Netscape executives decided that Sun could
not be relied upon to deliver the Java technology that they needed and
so, at the beginning of 1997, the "<A HREF="faq.html#Naming">ElectricalFire</A>"
project was born with only two engineers.&nbsp; (<I>That wasn't the only
reason that EF started, right ?&nbsp; Didn't Stryker want a big stick to
shake at Sun ?</I>)&nbsp; The team's plan was to use the ElectricalFire
JVM in conjunction with Sun's JDK libraries so as to eliminate the compatibility
problems that had plagued other Netscape Java releases, but still benefit
from the speed of a high-performance JIT.&nbsp; ElectricalFire made faster
than expected progress and in just a few months it was capable of compiling
the very simplest of programs.&nbsp; By the end of the summer, the group
had swelled to a dozen engineers.&nbsp; At this point, Netscape had more
engineers working on its JVM than Sun had working on there's.&nbsp; (<I>I
believe this is true, but would like corroboration.</I>)

<P>Around this time, the group was facing increasing pressure to demonstrate
ElectricalFire's worth.&nbsp; In an effort to accelerate the pace, they
began dropping implementation of compiler back-ends for some architectures,
such as PA-RISC, PowerPC and SPARC, so as to concentrate active development
on the x86 architecture for Windows.

<P>In late August of 1997, it looked as if the relationship with JavaSoft
would be salvaged after all: Netscape, IBM and Sun <A HREF="http://www.netscape.com/newsref/pr/newsrelease473.html">jointly
announced</A> the Java Porting and Tuning Center.&nbsp; At last, JavaSoft
had woken up and smelled the coffee - they were going to give developers
and users what they demanded: "...extremely high performance Java implementations...on
the customer's platform of choice."

<P>For Netscape, this meant a chance to to realign the two company's goals
and possibly also to share the burden of the ElectricalFire project with
Sun.&nbsp; Meetings were held to discuss a possible joint development effort
between JavaSoft's newly-formed compiler group and the ElectricalFire team.
JavaSoft outlined a very aggressive compiler strategy that made use of
powerful, but tricky to implement, inlining techniques in addition to conventional
optimizations.&nbsp; To the ElectricalFire team, it seemed that the JavaSoft
compiler project was overly ambitious - seeking to be the ultimate in performance
when an incremental improvement <I>now</I> would suffice with more speed
piled on later.&nbsp; The JavaSoft engineers were also, to put it bluntly,
arrogant.&nbsp; They made derisive comments about some of the ElectricalFire
code and claimed that they would be able to ship a much better JIT in only
a little more time.&nbsp; (<I>I could use some help remembering here.
I recall that they claimed they could get a compiler limping along in just
three months, but I can't remember when they said they would ship it.</I>)
In the end, JavaSoft's schedule did not mesh with Netscape's plan to ship
ElectricalFire on all major platforms before the start of the summer and
the two teams went their separate ways. It is interesting to note that,
almost a year and a half later, Sun has yet to ship their new HotSpot JIT.
To be fair, it's unclear that Netscape would have met its schedules either.

<P>A few meetings later, it was clear that the executives at Netscape and
Sun had very different ideas in mind when they signed the Porting and Tuning
Center agreement.&nbsp; For Sun, it meant more "over the wall" porting:
Throw the code at the monkies from the other vendors and let them do the
grunt work.&nbsp; Joint development of&nbsp; the Java platform was not
forthcoming - the Center quietly died.&nbsp; (<I>It did die didn't it ?
I never heard anything about it again.</I>)

<P>By late December of 1997, ElectricalFire was passing 90% of the JavaSoft's
instruction compatibility tests - the tests that verify the JVM's core
functionality.&nbsp; Less than two weeks later, Java engineers returned
from their holiday break to learn that Netscape had <A HREF="http://www.netscape.com/newsref/pr/newsrelease556.html">reported
significant losses</A> for the prior quarter and that some layoffs were
forthcoming.&nbsp; It took only a few more days before EF engineers learned
though unofficial channels that their project had been canceled as part
of a major retrenchment in the use of Java at Netscape.&nbsp; (There had
already been plans to back away from Java, but the financial disaster accelerated
the process.)

<P>With little else to do while the reorganization sorted itself out, some
EF engineers continued to work on the compiler, more for recreation than
any other reason.&nbsp; In mid-January ElectricalFire executed its first
major application, javac (the Java compiler that is itself written in Java).
The EF engineers dispersed - most no longer work for Netscape.

<P>The ElectricalFire code sat dormant for most of a year until one engineer
(Chris Toshok, author of the <A HREF="http://www.japhar.org/">Japhar JVM</A>,
but not an original member of the EF team) took it upon himself to arrange
for the open source release of the code via mozilla.org.
<BR>
</BODY>
</HTML>
