<HTML>
<HEAD>
<TITLE>mail and news</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT=0 MARGINWIDTH=0>

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP ROWSPAN=2><IMG
SRC="../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH=600 HEIGHT=58 VSPACE=0 HSPACE=0></TD></TR></TABLE>
<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR>


<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=TOP><IMG ALT=""
SRC="../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP ROWSPAN=2>

<BR><TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="..//"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../mission.html"> Our Mission</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../about.html"> Who We Are</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../get-involved.html"> Getting Involved</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../community.html"> Community</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../advocacy.html"> Editorials</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../news.html"> What's New</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../development.html"><B> Development</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../blue-sky/"> Blue Sky</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../projects.html"> Projects</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../status/"> Status</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../tools.html"> Tools</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../products.html"><B> Products</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../source.html"> Source Code</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../binaries.html"> Binaries</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../docs/"> Documentation</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../NPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../bugs/"> Bug Reports</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../search.html"><B> Search</B></A></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../feedback.html"><B> Feedback</B></A></TD></TR>
</TABLE><BR>

</TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD VALIGN=TOP><IMG ALT=""
SRC="../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP ROWSPAN=2>
<P><BR>



<!-- created by phil -->



<center><b><font size=+2>mozilla mail/news overview</font></b>
<br>January 7, 1999</center>

<p><b>Introduction</b>
<p>The purpose of this document is to explain the mail/news work which
is happening inside Netscape, and begin collaboration with open source
developers.
<p><b>History</b>
<ul>
<li>
In Netscape-branded versions of Navigator 2.x, 3.x, and Communicator 4.x,
the application had built-in support for email and newsgroups. In March
1997, the browser group brought all of their code to mozilla.org. At that
time, the mail group was focused on enterprise customers and the features
which shipped in Communicator 4.5.</li>

<li>
In the middle of <a href="http://home.netscape.com/communicator/v4.5/index.html">Communicator
4.5</a>, we attempted to bring all the Messenger code into mozilla, and
do 4.5 at the same time. This "Normandy" effort failed, and was abandoned.</li>

<li>
After Communicator 4.5 shipped, the mozilla/5.0 effort had a <a href="../roadmap.html">major
change in direction</a> to use the <a href="../newlayout/">Gecko</a> layout
engine and the <a href="../xpfe/">XPFE user interface toolkit</a>.</li>

<li>
Netscape's mail/news group is currently working on bringing the core parts
of Messenger into the mozilla/5.0 effort.</li>
</ul>
<b>What will be in the open source mail/news client?</b>
<p>All the support you've come to expect for SMTP, POP3, IMAP, NNTP, the
three pane UI, searching and filtering, message composition, address book,
preferences, etc.
<p><b>What won't be in the open source mail/news client?</b>
<ul>
<li>
As with other parts of the product, security-related code such as SSL,
S/MIME, etc. will not be released to mozilla.</li>

<li>
This section describes some things Netscape's engineering team may not
be doing. Just because we don't do something doesn't mean you can't do
it. In fact, we hope you do lots of things we don't do ourselves. See <a href="#Getting">Getting
Involved</a>. We're just setting expectations about what working code you
should expect to see from us.</li>

<ul>
<li>
In Communicator 4.5, we built database infrastructure to support very large
address books. The reason to do this work was to support replicas of LDAP
directories for offline use. Our open source DB, called MORK, may not meet
the scalability target we had in 4.5.</li>

<li>
The mozilla classic code contains lots of stuff which has been done better,
faster, smaller in the latest code. We won't be bringing any old code with
us. Where there's a better way to do something, we'll be using the new
way.</li>
</ul>
</ul>
<b>What about SmartMail and Grendel?</b>
<ul>
<li>
Mozilla mail/news will be capitalizing on a number of the ideas shown in
<a href="smartmail.html">SmartMail</a>.
We will be using RDF and XPFE, although those technologies have evolved
somewhat since SmartMail was shown. We probably won't be using much actual
code from SmartMail.</li>

<li>
<a href="../projects/grendel/">Grendel</a> was a separate effort to write
a new mail/news client in Java, and was not completed. Most people currently
working on mail/news are not intimately familiar with Grendel, but any/all
good ideas may be submitted using typical mozilla.org channels. Netscape's
mail/news engineers probably won't be enhancing Grendel.</li>
</ul>
<a NAME="Architecture"></a><b>Architecture</b>
<p>Our general plan is to bring the critical pieces of Messenger over to
mozilla/5.0 and rewrite/reorganize code as we need to in order to fit in.
Some of the major pieces of work are described here.
<p><u>Networking</u> (module owner: <a href="mailto:mscott@netscape.com">Scott
MacGregor</a>)
<p>We are porting all of our protocol handlers to work in the <a href="../docs/netlib/">new
netlib world</a>. We are doing two fundamental things to make this work:
<ul>
<li>
We are using a "proxied stream" interface between the netlib thread and
the protocol module. So all of the code you're used to seeing in mkpop3.c,
mknews.c, etc. will be living on the mozilla thread, and there will be
a stream interface across the thread boundary to netlib.</li>

<li>
We are converting all of the "up-calls" from the protocol handlers to the
rest of the backend (see libmsg) into XP-COM interfaces to avoid tight
coupling between components.</li>
</ul>
<u>Database</u> (module owner: <a href="mailto:davidmc@netscape.com">David
McCusker</a>)
<p>We are developing a new database strategy for mail/news (summary files
and address books).
<ul>
<li>
We have developed a database abstraction called MDB which we hope will
be general enough to allow databases great and small to live under its
API. Netscape's mail/news group will be providing a relatively simple text-based
database under that API for Messenger 5.0.</li>

<li>
Our 5.0 implementation of MDB is called MORK. If you're interested in mail/news
databases, lots of design discussion is happening in <a href="news://news.mozilla.org/netscape.public.mozilla.mail-news">netscape.public.mozilla.mail-news</a></li>
</ul>
<u>User Interface</u> (module owner <a href="mailto:warren@netscape.com">Warren
Harris</a>; use the <a href="news://news.mozilla.org/netscape.public.mozilla.mail-news">newsgroup</a>)
<p>We are committed to the XPFE strategy and toolkit. We do not expect
to write much, if any, platform specific UI using MFC, PowerPlant, or Motif.
We are working on a new visual appearance for mail/news right now.
<p><u>Back-end</u> (module owner <a href="mailto:phil@netscape.com">Phil
Peterson</a>; use the <a href="news://news.mozilla.org/netscape.public.mozilla.mail-news">newsgroup</a>)
<p>In Communicator 4.x, there was a bunch of "view layer" code which managed
adding and deleting items from outliners (e.g. messages in the thread pane
or folders/newsgroups in the folder pane). In the XPFE/RDF world, most
of this functionality is supplanted by RDF and the DOM. Therefore, most
of the mail/news application will probably live behind <a href="../rdf/doc/">RDF</a>
data sources. We may need some view-level code inside the DOM's content
model, but we haven't figured that out yet.
<br>&nbsp;
<p><u>libmime (MIME Parsing)</u> (module owner <a href="mailto:rhp@netscape.com">Rich
Pizzarro</a>)
<p>We are reworking the client side mime parsing for Messenger 5.0 to be
a more modular component with an XP-COM interface rather than a statically
linked library as was the case in previous releases. This module will implement
a <a href="stream-converter-interface.html">generic stream converter</a>
interface that is currently under development. Also a part of this development
is the creation of the ability to write Content Type Handler Plugins for
<a href="libmime-description.html">libmime</a>. This effort can be seen
at the following link: <a href="libmime-content-type-handlers.html">Content
Type Handler Plugins</a>
<p><a NAME="Getting"></a><b>Getting involved</b>
<p>We'll be adding code to <a href="http://cvs-mirror.mozilla.org/webtools/lxr/source/mailnews/">/mozilla/mailnews</a>
as we get code running in the architectural schemes given above. Until
the app is really up and running (which could be another two months or
so), the mail-news newsgroup is probably the best place for ideas and questions.




<P><BR>
</TD>


<TD VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

</TR>
<TR>


<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM><IMG ALT=""
SRC="../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD VALIGN=BOTTOM><IMG ALT=""
SRC="../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>
</TR>

<TR>

<TD BGCOLOR="#000000" COLSPAN=6><BR></TD>

<TD BGCOLOR="#000000" VALIGN=TOP>

<FONT COLOR="#AAAAAA" SIZE="-1">
Copyright &copy; 1998 The Mozilla Organization.
</FONT>

</TD>

<TD BGCOLOR="#000000" COLSPAN=2><BR></TD>
</TR>

</TABLE>
<P>
</BODY>
</HTML>
