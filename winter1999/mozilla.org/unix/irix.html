<HTML>
<HEAD>
<TITLE>Mozilla on Irix</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT=0 MARGINWIDTH=0>

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP ROWSPAN=2><IMG
SRC="../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH=600 HEIGHT=58 VSPACE=0 HSPACE=0></TD></TR></TABLE>
<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR>


<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=TOP><IMG ALT=""
SRC="../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP ROWSPAN=2>

<BR><TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="..//"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../mission.html"> Our Mission</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../about.html"> Who We Are</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../get-involved.html"> Getting Involved</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../community.html"> Community</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../advocacy.html"> Editorials</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../news.html"> What's New</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../development.html"><B> Development</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../blue-sky/"> Blue Sky</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../projects.html"> Projects</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../status/"> Status</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../tools.html"> Tools</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../products.html"><B> Products</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../source.html"> Source Code</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../binaries.html"> Binaries</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../docs/"> Documentation</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../NPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../bugs/"> Bug Reports</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../search.html"><B> Search</B></A></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../feedback.html"><B> Feedback</B></A></TD></TR>
</TABLE><BR>

</TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD VALIGN=TOP><IMG ALT=""
SRC="../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP ROWSPAN=2>
<P><BR>







<h1>
Mozilla on Irix Wants You!</h1>
We need help getting Mozilla up and running on Irix!
<p>I have created a mailing list, <i>mozilla-irix@netscape.com</i>, for
discussing Irix issues<i> </i>. Note that this is not an official Mozilla.org
list at this point.  To subscribe, send mail to <a href="mailto:mozilla-irix-request@netscape.com">mozilla-irix-request@netscape.com
</a>with
"subscribe" in the body of the message.  If that doesn't work, <a href="mailto:akkana@netscape.com">mail
akkana@netscape.com</a> and I'll add you manually.
<p>
<hr WIDTH="100%">
<h2>
The Autoconf Build</h2>
<b>December 7 Update</b>: <font color="#FF0000">we're there!</font> It
builds!
<br>The AC_C_INLINE has been removed from configure.in, all the static_casts
and such have been found and changed to NS_STATIC_CAST and similar macros,
and the NULLs in nsISupports.h have been changed to a more C++-legal 0.
<p>Unfortunately it crashes on startup -- looks like another static initializer
problem.
<br> 
<h3>
Autoconf/Gtk build requirements</h3>

<p><br><b>0. Environment Variables</b>
<br>Tell configure to use the native development tools:
<p><tt>setenv CC cc</tt>
<br><tt>setenv CXX CC</tt>
<br><tt>setenv LD CC</tt>
<br><tt>setenv NSPR_OPTIONS NS_USE_NATIVE=1</tt>
<p><b>1. autoconf</b>
<br>You will need autoconf, GNU m4, and texinfo (these links courtesy of
Victor Riley of SGI):
<ul><a href="ftp://ftp.uu.net/archive/systems/gnu/texinfo-3.9.tar.gz">ftp://ftp.uu.net/archive/systems/gnu/texinfo-3.9.tar.gz</a>
<br><a href="ftp://ftp.uu.net/archive/systems/gnu/m4-1.4.tar.gz">ftp://ftp.uu.net/archive/systems/gnu/m4-1.4.tar.gz</a>
<br><a href="ftp://ftp.uu.net/archive/systems/gnu/autoconf-2.12.tar.gz">ftp://ftp.uu.net/archive/systems/gnu/autoconf-2.12.tar.gz</a></ul>
just unpack them run ./configure; make; make install to build and install
them. I built them in /MozROOT so that I could package that into a tar
file and give to others trying to build this without requiring them to
do this all over again.
<p>Automake,
<a href="ftp://ftp.uu.net/archive/systems/gnu/automake-1.3.tar.gz">ftp://ftp.uu.net/archive/systems/gnu/automake-1.3.tar.gz</a>,
was another package that was up there that might help.
<p>Also the documentation on autoconfig will be useful -
<a href="http://www.lns.cornell.edu/public/COMP/info/autoconf/autoconf_toc.html">http://www.lns.cornell.edu/public/COMP/info/autoconf/autoconf_toc.html</a>.
<p><b>2. gtk</b>
<br>The autoconf build uses gtk by default. It is recommended that you
use gtk instead of Motif; the Motif viewer will build, but is no longer
being maintained and is far less functional than the gtk viewer. 
However, if you really want to use Motif: <tt>setenv MOZ_TOOLKIT motif</tt>
<p><font color="#FF0000">To use gtk, you will need to download and build
version 1.1.5 of the gtk and glib packages</font> from <a href="http://www.gtk.org">gtk.org</a>.
<p><b>3. Compiler</b>
<br>Gcc doesn't work to build nglayout on Irix, because nglayout uses
<a href="http://www.mozilla.org/docs/tplist/catBuild/portable-cpp.html#dont_use_static_constructors">static
constructors</a>. G++'s "collect2" program doesn't gather the appropriate
symbols to send to the native loader, and GNU ld apparently hasn't been
ported to Irix.
<p>We've had a lot of problems with people using more modern C++ features
like static_cast&lt;> which the Irix compiler doesn't support (at least
my 6.3 compiler doesn't, and no one has yet indicated that this had been
fixed in more modern Irix compilers) and with people using NULL (defined
as void*) to assign to pointers of other types (which is illegal C++, but
G++ accepts it and the Microsoft compiler doesn't define NULL as void*
so it doesn't see the problem).
<p>It looks like it will be a major fight keeping people from using these
features.  We'd be much better off if we could just use egcs/g++ like
all the other Unix platforms.  The issue is that egcs doesn't pass
static initializer information to the Irix loader.  Someone at Cygnus
is reportedly looking into this, and it's possible that a fix may appear
in a future version of egcs.  It would be a huge relief to switch
to egcs, because that's what all the other Unix platforms are using and
so all of our build problems should go away if we can successfully make
the switch.
<p>If you find a solution and get gcc working with static symbols, please
contact us! Post to netscape.public.mozilla.unix, or <a href="mailto:akkana@netscape.com">mail
akkana</a>.
<p>
<hr>
<h2>
Getting the Window to Display on an SGI Visual</h2>
Once we get these build problems ironed out, the work isn't over; neither
the viewer nor the xpviewer display on Irix, apparently because they can't
handle the unusual SGI visual. Help is needed to track down the rendering
problems and get the nglayout engine rendering properly on Irix!

<hr>

<br>Mon Dec  7 14:35:21 PST 1998
<address>
<a href="mailto:akkana@netscape.com">akkana@netscape.com</a></address>





<P><BR>
</TD>


<TD VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

</TR>
<TR>


<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM><IMG ALT=""
SRC="../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD VALIGN=BOTTOM><IMG ALT=""
SRC="../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>
</TR>

<TR>

<TD BGCOLOR="#000000" COLSPAN=6><BR></TD>

<TD BGCOLOR="#000000" VALIGN=TOP>

<FONT COLOR="#AAAAAA" SIZE="-1">
Copyright &copy; 1998 The Mozilla Organization.
</FONT>

</TD>

<TD BGCOLOR="#000000" COLSPAN=2><BR></TD>
</TR>

</TABLE>
<P>
</BODY>
</HTML>
