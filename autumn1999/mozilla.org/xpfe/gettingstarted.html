<HTML>
<HEAD>
<TITLE>getting started with mozilla ui hacking</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT="0" MARGINWIDTH="0">

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" ALT="" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP><IMG
SRC="../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH="600" HEIGHT="58" VSPACE="0" HSPACE="0"></TD></TR></TABLE>

<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">


<TR>


<TD VALIGN="TOP" >
<TABLE BORDER="0" ><TR><TD BGCOLOR="#000000" VALIGN="TOP">
<TABLE BORDER="0" CELLSPACING="3"><TR><TD BGCOLOR="#DDDDDD" VALIGN="TOP">
<TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD NOWRAP COLSPAN=2><A HREF=".././"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../mozorg.html"> At A Glance</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../feedback.html"> Feedback</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../get-involved.html"> Get Involved</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../community.html"> Newsgroups</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../MPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://www.mozilla.org/newsbot/"> Newsbot</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../docs/"><B> Developer Docs</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../projects/"> Projects</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../ports/"> Ports</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../hacking/"> Hacking</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../source.html"> Get the Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../build/"> Build It</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../quality/"><B> Testing</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../binaries.html"> Download</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../bugs/"> Bugzilla</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../quality/bug-writing-guidelines.html"> Bug Writing</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../tools.html"><B> Tools</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://lxr.mozilla.org/seamonkey/"> View Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://tinderbox.mozilla.org/showbuilds.cgi?tree=SeaMonkey"> Tree Status</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://cvs-mirror.mozilla.org/webtools/bonsai/cvsquery.cgi?treeid=default&amp;module=SeaMonkeyAll&amp;branch=HEAD&amp;branchtype=match&amp;dir=&amp;file=&amp;filetype=match&amp;who=&amp;whotype=match&amp;sortby=Date&amp;hours=2&amp;date=day&amp;mindate=&amp;maxdate=&amp;cvsroot=%2Fcvsroot"> New Checkins</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://bugzilla.mozilla.org/"> Submit A Bug</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../faq.html"><B> FAQ</B></A></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="http://www.mozilla.org/search.html"><B> Search</B></A></TD></TR>
</TABLE>
</TD></TR></TABLE>
</TD></TR></TABLE>
</TD>


<TD VALIGN="TOP">


  
  
  
  <h1 align=center>getting started with mozilla ui hacking</h1>
  <center>
    <a href="mailto:rgoodger@ihug.co.nz">ben goodger</a>,
    9-september-1999
  </center>
  <p>
    <i>"What if… non-programmers could design the look and feel of a product 
    using W3C standards instead of C++? Where platform differences could be 
    expressed in stylesheets, not hardcoded with #ifdefs? "</i>
    <div align="right">
      - from <a href="http://www.mozilla.org/xpfe/">XPFE webpages</a> 
      at <a href="http://www.mozilla.org/">mozilla.org</a>
    </div>
  <p>
    Contributing code to the Mozilla project has never been as <b>easy</b> as it is 
    today. In the past, you had to be some C/C++/platform toolkit hotshot to 
    add code, today all you really need is an understanding of 
    <a href="http://www.ecma.ch/stand/ECMA-262.htm"><b>JavaScript</b></a>, 
    <a href="http://www.w3.org/TR/REC-html40/"><b>HTML4.0</b></a>, the W3C 
    <a href="http://www.w3.org/TR/REC-DOM-Level-1/"><b>DOM</b></a>, 
    <a href="http://www.w3.org/Style/CSS">CSS</a>, and most importantly <i>a 
    sense of adventure</i>.
  <p>
    If you've ever <a href="http://www.mozilla.org/binaries.html">downloaded 
    a Mozilla build</a>, and looked inside the chrome folder, and inside one 
    or two of the little <b>XUL</b> or <b>JS</b> files residing there, you would 
    have guessed  that something interesting was going on with Mozilla. The whole 
    user interface is built on eXtensible User interface Language 
    ("<a href="http://www.mozilla.org/xpfe/languageSpec.html"><b>XUL</b></a>") and 
    some <b>HTML4.0</b> components, styled with <b>CSS1</b> and <b>2</b>, and made 
    interactive by using <b>JavaScript</b> to do UI code and to make calls to 
    the compiled core via the exposed APIs. 
  <p>
    <b>The Good News</b>
    <ul>
      <li>JavaScript is not hard to learn (especially if you know another 
          language)
      <li>Neither is CSS, or HTML 4.0
      <li>You don't need a meaty machine to do UI hacking, no compilation is 
          required, the entire Mozilla UI is <i>interpreted</i> so you only need to 
          reload your XUL to see your changes
      <li>Your UIs will be easy to <b>translate</b> into other languages
      <li>And best of all, <b><i>we want your input</i></b>!
    </ul>
  <p>
    <h3>And In Case You're Not Convinced…</h3>
    <blockquote>
    Here's a snippet of sample UI code (for a toolbar):
    <table bgcolor="#dfdfdf" border>
      <td>
        <font face="courier new, courier, monospace" size="-1" color="#000080">
          &lt;toolbox&gt;<br>
          &nbsp;&nbsp;&lt;toolbar class="main-bar" chromeclass="toolbar" style="height: 27px;"&gt;<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&lt;titledbutton value="Foo 1" onclick="onFoo(1);"/&gt;<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&lt;titledbutton value="Foo 2" onclick="onFoo(2);"/&gt;<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&lt;html:input type="text" id="location"/&gt;<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&lt;titledbutton value="Foo 3" onclick="onFoo(3);"/&gt;<br>
          &nbsp;&nbsp;&lt;/toolbar&gt;<br>
          &lt;/toolbox&gt;<br>
        </font>
      </td>
    </table>
    <br>
    which yields:<br>
    <div align="center">
      <img src="toolbar.gif" width=276 height=29 border=0 alt="toolbar">
    </div>
    <br>
    now, in practice we'd use entities for the button captions, and put the real
    text string in DTD files (to make localisation easier), but for this simple
    example adding the captions directly into the XUL is permissible.
    </blockquote>
  <p>
    <h3>Get to the point, Ben!</h3>
    <blockquote>
    So have an idea for a feature you want to add? See something busted in the 
    browser you suspect might be just a UI issue you can fix? Well, load up your 
    text editor, find yourself some documentation if you need it (see links at 
    the bottom of this document), and get hacking! Here's a general guide:
    </blockquote>
  <p>
    <h3>Chrome Folder Structure</h3>
    <blockquote>
    The chrome folder is divided into components. Under each folder are <b>content</b>, 
    <b>locale</b> and <b>skin</b> folders. Content contains all the JS and XUL 
    files that define the structure and behaviour of the user interface. Locale 
    contains text strings for specific languages (in DTD files), and Skin contains 
    CSS files which define the appearance of the contents XUL files.
  <p>
    This is not a XUL, CSS, JavaScript or XML tutorial, but have a look in the 
    files in these folders and you'll quickly get a sense of how things work. 
    If you want to make a new dialog, start by getting an existing one, and 
    pruning out unneeded features. I've found the best way to learn was to 
    play with existing code, and try and write some myself.
    </blockquote>
  <p>
    <h3>Hacking XUL</h3>
    <blockquote>
    Before getting started with the XUL widgets, I suggest you have an extended 
    play with them first, create a test XUL document, and try embedding each in. 
    This is especially important for trees, which are the most complicated widget 
    to use. Also, have a play with boxes (boxes are used to contain other widgets, 
    similar to GTK boxes I guess), they're fundamental to controlling the way your 
    interface is displayed on screen. Relatively comprehensive (although sometimes 
    out-of-date, beware!) documents can be found at mozilla.org's 
    <a href="http://www.mozilla.org/xpfe/xptoolkit">XPToolkit page</a>.
  <p>
    You interact with the objects in your UI using W3C DOM calls. If you don't 
    know much DOM, try reading <a href="http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html">this document</a>, 
    or learn by reading existing code. (You might find it useful to bookmark 
    that doc though, it's a handy reference).
    </blockquote>
  <p>
    <h3>Accessing Mozilla APIs</h3>
    <blockquote>
    Once you've successfully created your UI and made it interactive, you'll 
    probably want to interact in some way with the core of Mozilla (unless you've 
    written your own component, in which case you'll want to interact with that 
    as well). Accessing these components appears to differ in subtle ways 
    depending on what you're using, but the general form is fairly similar - you 
    access core components using a process called XPConnect. Again this isn't a 
    tutorial, have a look at the JS files. After XPConnecting, you're normally 
    left with an object that contains a lot of attributes and member functions 
    you can tweak with JavaScript. For example, after XPConnecting to 
    nsIEditorShell, your editorShell JavaScript variable can access all the 
    scriptable methods and attributes listed in <a href="http://lxr.mozilla.org/seamonkey/source/editor/idl/nsIEditorShell.idl">nsIEditorShell.idl</a>
    </blockquote>
  <p>
    <h3>Where to find API Documentation</h3>
    <blockquote>
    API documentation is fairly nonexistent at the moment, but if you XPConnect 
    to an interface, the stuff you can use is described in the IDL (Interface 
    Definition Language) file for that interface. Read existing code, and you'll 
    get the general idea soon enough. For convenience, if you have the disk space, 
    check out the SeaMonkey source code (see the <a href="http://www.mozilla.org/source.html">Source Code page</a> @mozilla.org), 
    and then you can search through the IDL files locally, and use the actual 
    source code to figure out what the functions do if need be. Otherwise, just 
    search on LXR for the interface you need.
    </blockquote>
  <p>
    <h3>Localisation</h3>
    <blockquote>
    Whenever you go to put a text string in a XUL file, stop. If this is for
    anything other than testing, it should be an entity, and it should be placed
    into a DTD file. Look at XUL files and DTD files for examples of how to do this.
    Why do we do this? To make it easy for people to translate into other languages.
    When they translate, they only need translate the DTD files, or use one of the
    <a href="http://www.mozillazine.org/talkback.html?article=768">programs</a> 
    that people have made to assist translation. 
  <p>
    If you find yourself using strings in JavaScript, you can localise these by
    using string bundles. For examples on how to use these, see the file in
    the res folder called "strres-test.xul" and "strres-test.js".
  <p>
    That about covers it! Before, during or after your development, post to the 
    appropriate newsgroup(s) (a listing of some of them are below). Everyone 
    would love to hear about what you're working on, and if you need help, or 
    want opinions or suggestions, posting to one of the Mozilla newsgroups is a 
    great way to get it. You may find someone with the same wish, or someone 
    already doing work that you can help with. Above all, get out there and be 
    heard!
    <br><br>
    </blockquote>
  <p>
    <table bgcolor="#dfdfdf" border="1" cellpadding="7">
      <td>
        <b>Key Points</b>
          <ul>
            <li><b><a href="http://www.mozilla.org/js/">JavaScript</a> APIs</b><br>
                are described in Interface Definition Language files (*.idl). There
                are many, many interfaces, and even more functions and data members
                for you to work with. You can also write your own compiled modules 
                and access them from script.
            <li><b><a href="http://www.mozilla.org/scriptable/">XPConnect</a></b><br>
                is the process by which you "grab on" to an interface, so you
                can use its functions and access its data.
            <li><b><a href="http://www.mozilla.org/xpfe/xptoolkit">XUL</a></b><br>
                is an XML derived language, similar to HTML, which allows you to
                define flexible user interfaces.
            <li><b><a href="http://www.mozilla.org/projects/intl/xul-styleguide.html">Localisation</a></b><br>
                is a very important part of creating applications. By placing
                all of your text strings into separate DTD and .properties files,
                you allow others to translate your work into another language 
                easily.
            <li><b>Hacking Mozilla is fun!</b><br>
                and a rewarding challenge. By working with Mozilla's UI now you
                are working with a set of emerging technologies, some of which
                may shape the web and application development in years to come.
                There's never been a better time to get involved!
          </ul>
      </td>
    </table>
  <p>
    <h3>Useful Links</h3>
    <blockquote>
    <ul>
      <li>XPFE Webpage contains links to useful documentation and design ideas 
          for the Mozilla Cross Platform Front End: 
          <a href="http://www.mozilla.org/xpfe">http://www.mozilla.org/xpfe</a>
      <li>XPToolkit Webpage contains the most comprehensive (yet often 
          out-of-date) guide to XUL widgets: 
          <a href="http://www.mozilla.org/xpfe/xptoolkit">http://www.mozilla.org/xpfe/xptoolkit</a>
      <li>RDF is a standardised way of accessing and storing data. Examples 
          exist in code, and there are lots of useful documents here: 
          <a href="http://www.mozilla.org/rdf/doc/">http://www.mozilla.org/rdf/doc/</a>
      <li>LXR (Linux Cross Reference) Seamonkey is a searchable, extensively 
          cross-referenced HTML based version of the source code: 
          <a href="http://lxr.mozilla.org/seamonkey">http://lxr.mozilla.org/seamonkey</a>
      <li>Nightly Build FTP Directory is where you can get the latest builds 
          from. More useful than Milestones, which are often out of date: 
          <a href="ftp://ftp.mozilla.org/pub/mozilla/nightly/latest">ftp://ftp.mozilla.org/pub/mozilla/nightly/latest</a>
      <li>Bugzilla (for reporting and querying bugs): 
          <a href="http://bugzilla.mozilla.org/">http://bugzilla.mozilla.org/</a>
      <li>Source Code page @mozilla.org (for getting source code, instructions 
          on building etc): 
          <a href="http://www.mozilla.org/source.html">http://www.mozilla.org/source.html</a>
      <li>MozillaZine is also a good place to get some thoughts on your ideas, 
          if you have an idea or write an article, send it in and watch the 
          forums! 
          <a href="http://www.mozillazine.org/">http://www.mozillazine.org/</a>
    </ul>
    </blockquote>
  <p>
    <h3>Newsgroups</h3>
    <blockquote>
    See the <a href="http://www.mozilla.org/community.html">mozilla.org Community page</a> for a full list of Newsgroups. Some are 
    listed here:
    <ul>
      <li><a href="news://news.mozilla.org/netscape.public.mozilla.xpfe">netscape.public.mozilla.xpfe</a> - the primary XPFE newsgroup. 
      <li><a href="news://news.mozilla.org/netscape.public.dev.xul">netscape.public.dev.xul</a> - newsgroup for questions about XUL
      <li><a href="news://news.mozilla.org/netscape.public.mozilla.dom">netscape.public.mozilla.dom</a> - DOM implementation 
      <li><a href="news://news.mozilla.org/netscape.public.mozilla.jseng">netscape.public.mozilla.jseng</a> - javascript engine (not DOM!)
      <li><a href="news://news.mozilla.org/netscape.public.mozilla.editor">netscape.public.mozilla.editor</a> - Composer editor group
      <li><a href="news://news.mozilla.org/netscape.public.mozilla.mail-news">netscape.public.mozilla.mail-news</a> - Messenger Mail-news component
      <li><a href="news://news.mozilla.org/netscape.public.mozilla.prefs">netscape.public.mozilla.prefs</a> - Preferences system
      <li><a href="news://news.mozilla.org/netscape.public.mozilla.ui">netscape.public.mozilla.ui</a> - User Interface newsgroup
      <li><a href="news://news.mozilla.org/netscape.public.mozilla.wishlist">netscape.public.mozilla.wishlist</a> - Wishlist - if you don't know what you want to add, try looking here for inspiration!
    </ul>
    </blockquote>
  <p>
    <h3>IRC</h3>
    <blockquote>
    Point your IRC client at irc.mozilla.org, and join #mozilla to join in the 
    live Mozilla discussion!
    </blockquote>        
    <br><hr>
    <i>last updated 21/09/1999</i>
  



</TD>

</TR>
<TR>

<TD COLSPAN="2" ALIGN="RIGHT" VALIGN="TOP">
<FONT SIZE="-1">
Copyright &copy; 1998-1999 The Mozilla Organization.
<BR>
<A HREF="http://www.mozilla.org/webtools/bonsai/cvslog.cgi?file=mozilla-org/html/xpfe/gettingstarted.html&amp;rev=&amp;root=/cvsroot/">Last modified September 26,  1999</A>.
</FONT>
</TD>
</TR>

</TABLE>
</BODY>
</HTML>
