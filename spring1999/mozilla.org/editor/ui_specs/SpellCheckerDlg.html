<HTML>
<HEAD>
<TITLE>Spelling Dialogs</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT=0 MARGINWIDTH=0>

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP ROWSPAN=2><IMG
SRC="../../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH=600 HEIGHT=58 VSPACE=0 HSPACE=0></TD></TR></TABLE>
<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">

<TR>


<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>



<TD BGCOLOR="#DDDDDD" VALIGN=TOP COLSPAN=2><IMG ALT=""
SRC="../../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP><IMG ALT=""
SRC="../../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP ALIGN=RIGHT>
</TD>


<TD VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

</TR>


<TR>

<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP COLSPAN=3>

<BR><TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../..//"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../mission.html"> Our Mission</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../about.html"> Who We Are</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../get-involved.html"> Getting Involved</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../community.html"> Community</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../advocacy.html"> Editorials</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../news.html"> What's New</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../newsbot/"> Newsbot</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../development.html"><B> Development</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../blue-sky/"> Blue Sky</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../projects.html"> Projects</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../status/"> Status</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../tools.html"> Tools</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../products.html"><B> Products</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../source.html"> Source Code</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../binaries.html"> Binaries</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../docs/"> Documentation</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../NPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../bugs/"> Bug Reports</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../quality/"> Quality</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../search.html"><B> Search</B></A></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../feedback.html"><B> Feedback</B></A></TD></TR>
</TABLE><BR>
</TD>


<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP ALIGN=RIGHT>
</TD>


<TD VALIGN=TOP>
<P><BR>




   
   



<h1>
Spelling Dialogs</h1>

<div align=right><font size=-1>Last updated 1/21/99 by Charles Manske</font>
<br><font size=-1>(<a href="mailto:cmanske@netscape.com">cmanske@netscape.com</a>)</font></div>

<h2>
1.&nbsp;<a NAME="SpellCheckerDialog"></a>Spell Checker Dialog</h2>
The new layout of spell checking controls was implemented in the Windows
version of MozillaClassic, but only the dialog layout, not any changes
in underlying behavior necessary to match this layout. This was redesigned
to be more like other word processors, such as Microsoft Word(&reg;), and
should be considered the starting point for designing a new version for
Mozilla/Communicator 5.0.
<br>&nbsp;
<table BORDER=0 CELLSPACING=2 CELLPADDING=2 >
<tr VALIGN=TOP>
<td>Windows:</td>

<td>Mac:</td>

<td>UNIX:</td>
</tr>

<tr VALIGN=TOP>
<td><img SRC="SpellChecker_W.gif" height=249 width=392></td>

<td></td>

<td></td>
</tr>
</table>

<h3>
Invoke</h3>

<blockquote>Menu: Tools | Check Spelling (should also have an accelerator
key, which we currently have trouble agreeing on among the different platforms.)</blockquote>

<h3>
Initialization</h3>

<ol>
<li>
Fill the list of Languages by querying the spellcheck module for available
languages.</li>

<li>
Start the spell check module using the current language (obtained from
the preferences "editor.")</li>

<ul>
<li>
If text is selected, do spell checking only within the selected text. After
checking the selected text, ask the user if they want to check the rest
of the document.</li>

<li>
If text is not selected, start searching for the first misspelled work
starting from the top of the document.</li>
</ul>

<li>
Search for the first misspelled word (this is what I call the "search and
suggest" action):</li>

<ul>
<li>
If a word is found, put it in the "Word" editbox, get the list of suggested
replacements from the spell checker and display them in the "Suggestions"
listbox. The "Ignore" button should be the default action (what happens
when the user presses the Enter key.)</li>

<li>
If no misspelled word is found:</li>

<ol>
<li>
The "Word" editbox is empty and disabled.</li>

<li>
Disable all buttons except for "Close," "Edit," and the "Language" combobox.</li>

<li>
Set the focus the "Close" button so that is the default action and the
user can simply press the Enter key to dismiss the dialog.</li>
</ol>
</ul>

<li>
This dialog is nonmodal, so the user can click into the document and edit
it while the spell check dialog is still active.</li>
</ol>

<h3>
Dialog Rules</h3>

<blockquote>When the "Word" editbox is empty:
<ol>
<li>
Disable the "Suggest" and "Add" buttons</li>

<li>
Change the text on the "Replace" button to "Delete"</li>

<li>
Change the text on the "Replace All" button to "Delete All"</li>
</ol>
After user types something into this editbox, the button enabling and text
should change back to the normal state.</blockquote>

<h3>
Actions</h3>

<blockquote>&nbsp;
<table BORDER COLS=2 WIDTH="80%" >
<tr>
<th VALIGN=TOP WIDTH="100">Click Button</th>

<th>Response</th>
</tr>

<tr>
<td VALIGN=TOP>Suggest</td>

<td>Rebuild the "Suggest" list using current text in the "Word" editbox
as the text to lookup.</td>
</tr>

<tr>
<td VALIGN=TOP>Ignore</td>

<td>
<ol>
<li>
Do not replace the currently-selected text.</li>

<li>
Repeat the "search and suggest" action to find the next misspelled word.</li>
</ol>
</td>
</tr>

<tr VALIGN=TOP>
<td>Ignore All</td>

<td>
<ol>
<li>
Do not replace the currently-selected text</li>

<li>
Save the text ignored and don't match to it during subsequent "search and
suggest" actions</li>

<li>
Repeat the "search and suggest" action</li>
</ol>
</td>
</tr>

<tr>
<td VALIGN=TOP>Replace / Delete</td>

<td>
<ol>
<li>
Get the "Word text" from the "Word" editbox and strip spaces</li>

<li>
Replace the last-found misspelled word with the "word text".</li>

<li>
Repeat the "search and suggest" action</li>
</ol>
</td>
</tr>

<tr>
<td VALIGN=TOP>Replace All / Delete All</td>

<td>
<ol>
<li>
Get the "Word text" from the "Word" editbox and strip spaces</li>

<li>
Replace all occurences of the last found misspelled word with the "Word
text"</li>

<li>
Repeat the "search and suggest" action</li>
</ol>
</td>
</tr>

<tr>
<td VALIGN=TOP>Add</td>

<td>
<ol>
<li>
Get the "Word text" from the "Word" editbox and strip spaces</li>

<li>
If the "word text" from the editbox is different from the last-found misspelled
word, replace the misspelled word with the "word text"</li>

<li>
Add the "word text" from to the current user dictionary (obtained from
the "SpellChecker.PersonalDictionary" preference.)</li>

<li>
Repeat the "search and suggest" action</li>
</ol>
</td>
</tr>

<tr>
<td VALIGN=TOP>Edit</td>

<td>Popup the <a href="#PersonalDictionaryDialog">Personal Dictionary
Dialog</a>. Remain in the main spell check dialog after returning from
the Personal Dictionary dialog.</td>
</tr>

<tr VALIGN=TOP>
<th>User Action</th>

<td></td>
</tr>

<tr>
<td VALIGN=TOP>Select a word in the "Suggest" listbox</td>

<td VALIGN=TOP>Place the text from the selected "Suggest" list into the
"Word" editbox. This will be the text to use to replace a misspelled word.</td>
</tr>

<tr>
<td VALIGN=TOP>Selected a language in the "Language" popup list</td>

<td VALIGN=TOP>Restart the initial "search and suggest" actions using the
newly-selected language for the dictionary.</td>
</tr>
</table>
</blockquote>

<h3>
Enhancements</h3>

<blockquote>While this new version is much closer to spell checkers in
other word processors, there are still some differences that we should
consider for our new dialog:
<ol>
<li>
Microsoft Word has separate editboxes called "Not in dictionary" and "Change
to" instead of our single "Word" editbox. The reason that might be desirable
is to show explicitly what text is being replaced with what. In our implementation,
what I refer to above as the "last-found misspelled word" must be saved
and is separate from the "Word" editbox value, which may be changed by
the user. This is confusing to the user when the user edits the text in
the "Word" editbox or deletes it entirely. In that state, the text that
is being replaced is not visible in our implementation.</li>

<li>
Consider using the term "Learn" instead of "Add" (to the the personal dictionary.)
"Learn" is used in Communicator 4.x and earlier implementations.</li>

<li>
Consider using the terms "Change" and "Change All" (used by MS Word) instead
of "Replace" and "Replace All" (which are more compatable with the Find/Replace
dialog.)</li>

<li>
Start spell checking from the current insert point (caret location) rather
than the top of the document. After reaching the end of the document, spell
checking should continue from the top until the original insert point is
reached.</li>
</ol>
</blockquote>

<h2>

<hr ALIGN=LEFT WIDTH="100%">2.&nbsp;<a NAME="PersonalDictionaryDialog"></a>Personal
Dictionary Dialog</h2>

<table BORDER=0 CELLSPACING=2 CELLPADDING=2 >
<tr VALIGN=TOP>
<td>Windows:</td>

<td>Mac:</td>

<td>UNIX:</td>
</tr>

<tr VALIGN=TOP>
<td><img SRC="EditDictionaryDlg_W.gif" BORDER=0 height=361 width=333></td>

<td></td>

<td></td>
</tr>
</table>

<h3>
Invoke</h3>

<blockquote>Click on the "Edit" button in the <a href="#SpellCheckerDialog">Spell
Checker Dialog</a>.</blockquote>

<h3>
Initialization</h3>

<ol>
<li>
The "New Word" editbox is initially empty</li>

<li>
The "Words" list is filled with the words from the current user dictionary,
but no item is initially selected.</li>

<li>
All buttons are initially disabled except for</li>
</ol>

<h3>
Dialog Rules</h3>

<blockquote>&nbsp;
<table BORDER COLS=2 WIDTH="80%" >
<tr>
<th>User Action</th>

<th>Result</th>
</tr>

<tr>
<td VALIGN=TOP>Change the text in the "New Word" editbox</td>

<td VALIGN=TOP>Enable the "Add" button if the text is not empty, disable
if empty.</td>
</tr>

<tr>
<td>Select an item in the "Words" listbox</td>

<td VALIGN=TOP>
<ol>
<li>
Copy the text of the selected item into the "New Word" editbox</li>

<li>
Enable the Remove and Replace buttons</li>
</ol>
</td>
</tr>
</table>
</blockquote>

<h3>
Actions</h3>

<blockquote>OK, Cancel, and Help work in the usual fashion (Only OK saves
the changes to the personal dictionary file.)</blockquote>





<P><BR>
</TD>


<TD VALIGN=TOP ALIGN=RIGHT>
</TD>


<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

</TR>


<TR>


<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM COLSPAN=2><IMG ALT=""
SRC="../../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=BOTTOM COLSPAN=2><IMG ALT=""
SRC="../../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>
</TR>

<TR>

<TD BGCOLOR="#000000" COLSPAN=6><BR></TD>

<TD BGCOLOR="#000000" VALIGN=TOP>

<FONT COLOR="#AAAAAA" SIZE="-1">
Copyright &copy; 1998 The Mozilla Organization.
</FONT>

</TD>

<TD BGCOLOR="#000000" COLSPAN=2><BR></TD>
</TR>

</TABLE>
<P>
</BODY>
</HTML>
