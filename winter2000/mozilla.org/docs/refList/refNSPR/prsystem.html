<HTML>
<HEAD>
<TITLE>NSPR 2.0: System information</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT="0" MARGINWIDTH="0">

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" ALT="" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP><IMG
SRC="../../../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH="600" HEIGHT="58" VSPACE="0" HSPACE="0"></TD></TR></TABLE>

<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">


<TR>


<TD VALIGN="TOP" >
<TABLE BORDER="0" ><TR><TD BGCOLOR="#000000" VALIGN="TOP">
<TABLE BORDER="0" CELLSPACING="3"><TR><TD BGCOLOR="#DDDDDD" VALIGN="TOP">
<TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../.././"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../../mozorg.html"> At A Glance</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../../feedback.html"> Feedback</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../../get-involved.html"> Get Involved</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../../community.html"> Newsgroups</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../../MPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://www.mozilla.org/newsbot/"> Newsbot</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../../docs/"><B> Developer Docs</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../../projects/"> Projects</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../../ports/"> Ports</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../../hacking/"> Hacking</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../../source.html"> Get the Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../../build/"> Build It</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../../quality/"><B> Testing</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../../binaries.html"> Download</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../../bugs/"> Bugzilla</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../../quality/bug-writing-guidelines.html"> Bug Writing</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../../tools.html"><B> Tools</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://lxr.mozilla.org/seamonkey/"> View Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://tinderbox.mozilla.org/showbuilds.cgi?tree=SeaMonkey"> Tree Status</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://cvs-mirror.mozilla.org/webtools/bonsai/cvsquery.cgi?treeid=default&amp;module=SeaMonkeyAll&amp;branch=HEAD&amp;branchtype=match&amp;dir=&amp;file=&amp;filetype=match&amp;who=&amp;whotype=match&amp;sortby=Date&amp;hours=2&amp;date=day&amp;mindate=&amp;maxdate=&amp;cvsroot=%2Fcvsroot"> New Checkins</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://bugzilla.mozilla.org/"> Submit A Bug</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../../faq.html"><B> FAQ</B></A></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="http://www.mozilla.org/search.html"><B> Search</B></A></TD></TR>
</TABLE>
</TD></TR></TABLE>
</TD></TR></TABLE>
</TD>


<TD VALIGN="TOP">





<A HREF="contents.html">[Contents]</A> <A HREF="prlink.html">[Previous]</A>
<A HREF="prenv.html">[Next]</A> <A HREF="last.html">[Last]</A>&nbsp;
<HR>
<BR><A NAME="SystemInformation"></A>
<CENTER>
<H2>
Chapter 20<BR>
System Information</H2></CENTER>
This chapter describes the NSPR API for obtaining system information This
includes the host name, system name and system release. Information about
the system page size is also available

<H2>
<A NAME="Types"></A>Types</H2>

<H4>
<A NAME="PRSysInfo"></A>PRSysInfo</H4>

<H5>
Syntax</H5>

<PRE>
typedef enum {
    PR_SI_HOSTNAME,         /* name of the host */
    PR_SI_SYSNAME,          /* name of the system */
    PR_SI_RELEASE,          /* release number of the system */
    PR_SI_ARCHITECTURE      /* architecture of the system */
} PRSysInfo;
</PRE>

<H5>
Description</H5>
Define the command argument for the <A HREF="#PR_GetSystemInfo">PR_GetSystemInfo()</A>
function.
<H2>
<A NAME="Functions"></A>Functions</H2>

<DL>
<DD>
<TT><A HREF="#pr_getsysteminfo">PR_GetSystemInfo</A></TT></DD>

<DD>
<TT><A HREF="#PR_GetPageSize">PR_GetPageSize</A></TT></DD>

<DD>
<TT><A HREF="#PR_GetPageShift">PR_GetPageShift</A></TT></DD>
</DL>

<H4>
<A NAME="PR_GetSystemInfo"></A>PR_GetSystemInfo</H4>
Return the information requested about the system.

<H5>
Syntax</H5>

<PRE>#include &lt;prsystem.h></PRE>

<PRE>PRStatus PR_GetSystemInfo(PRSysInfo cmd, char *buf, PRUint32 buflen);</PRE>

<H5>
Parameters</H5>
The function has the following parameters:
<TABLE COLS=2 WIDTH="100%" >
<TR ALIGN=LEFT VALIGN=TOP>
<TD WIDTH="10%"><B><TT>cmd></TT></TD>

<TD ALIGN=LEFT VALIGN=BASELINE>Specifies the system information
required.</TD>
</TR>

<TR>
<TD><TT><B>buf</B></TT></TD>

<TD>A pointer to a buffer to hold the null terminated string containing
the system information&nbsp;
<BR>&nbsp;</TD>
</TR>

<TR>
<TD><TT><B>buflen</B></TT></TD>

<TD>The size of buf (in bytes).</TD>
</TR>
</TABLE>
<H5>
Returns</H5>
If successful, <TT>PR_SUCCESS</TT>. The buffer pointed to by buf contains the system
information specified by cmd
<BR>If unsuccessful, <TT>PR_FAILURE</TT>. The contents of the buffer pointed to
by buf are undefined.
<H5>
Description</H5>
<TT>PR_GetSystemInfo</TT> returns the system information specified by cmd.
The value specified for cmd should be one of the enumerated values in the
enumerated type <A HREF="#PRSysInfo">PRSysInfo</A> .

<P>The buffer is allocated by the caller and should be at least <TT>
SYS_INFO_BUFFER_LENGTH</TT>
bytes in length. Upon a successful return the system information is contained
in a null terminated string in <TT>buf</TT>.
<H4>
<A NAME="PR_GetPageSize"></A>PR_GetPageSize</H4>
Return the number of bytes in a page on the system.
<H5>
Syntax</H5>

<PRE>#include &lt;prsystem.h>

PRInt32 PR_GetPageSize(void);</PRE>

<H5>
Description</H5>
<TT>PR_GetPageSize</TT> returns the number of bytes in a page on the system

<H4>
<A NAME="PR_GetPageShift"></A>PR_GetPageShift</H4>
Return the log2 of the size of a page on the system.
<H5>
Syntax</H5>

<PRE>#include &lt;prsystem.h>

PRInt32 PR_GetPageShift(void);</PRE>

<H5>
Description</H5>
PR_GetPageShift returns the log2 value of the number of bytes in a page
on the system
<HR WIDTH="100%">
<BR><A HREF="contents.html">[Contents]</A> <A HREF="prlink.html">[Previous]</A>
<A HREF="prenv.html">[Next]</A> <A HREF="last.html">[Last]</A>
<DIV ALIGN=right><I><FONT SIZE=-2>Last Updated: Tue Jul 14 17:13:50 PDT 1998</FONT></I>&nbsp;
<HR SIZE=4></DIV>

<CENTER>Copyright &copy; 1998 <A HREF="http://home.netscape.com/misc/contact_info.html" TARGET="_top">Netscape
Communications Corporation</A></CENTER>





</TD>

</TR>
<TR>

<TD COLSPAN="2" ALIGN="RIGHT" VALIGN="TOP">
<FONT SIZE="-1">
Copyright &copy; 1998-2000 The Mozilla Organization.
<BR>
<A HREF="http://www.mozilla.org/webtools/bonsai/cvslog.cgi?file=mozilla-org/html/docs/refList/refNSPR/prsystem.html&amp;rev=&amp;root=/cvsroot/">Last modified July 17,  1998</A>.
</FONT>
</TD>
</TR>

</TABLE>
</BODY>
</HTML>
