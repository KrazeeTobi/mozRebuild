<HTML>
<HEAD>
<TITLE>performance: tools</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT="0" MARGINWIDTH="0">

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" ALT="" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP><IMG
SRC="../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH="600" HEIGHT="58" VSPACE="0" HSPACE="0"></TD></TR></TABLE>

<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">


<TR>


<TD VALIGN="TOP" >
<TABLE BORDER="0" ><TR><TD BGCOLOR="#000000" VALIGN="TOP">
<TABLE BORDER="0" CELLSPACING="3"><TR><TD BGCOLOR="#DDDDDD" VALIGN="TOP">
<TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD NOWRAP COLSPAN=2><A HREF=".././"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../mozorg.html"> At A Glance</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../feedback.html"> Feedback</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../get-involved.html"> Get Involved</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../community.html"> Newsgroups</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../MPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://www.mozilla.org/newsbot/"> Newsbot</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../docs/"><B> Developer Docs</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../projects/"> Projects</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../ports/"> Ports</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../hacking/"> Hacking</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../source.html"> Get the Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../build/"> Build It</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../quality/"><B> Testing</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../binaries.html"> Download</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../bugs/"> Bugzilla</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../quality/bug-writing-guidelines.html"> Bug Writing</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../tools.html"><B> Tools</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://lxr.mozilla.org/seamonkey/"> View Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://tinderbox.mozilla.org/showbuilds.cgi?tree=SeaMonkey"> Tree Status</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://cvs-mirror.mozilla.org/webtools/bonsai/cvsquery.cgi?treeid=default&amp;module=SeaMonkeyAll&amp;branch=HEAD&amp;branchtype=match&amp;dir=&amp;file=&amp;filetype=match&amp;who=&amp;whotype=match&amp;sortby=Date&amp;hours=2&amp;date=day&amp;mindate=&amp;maxdate=&amp;cvsroot=%2Fcvsroot"> New Checkins</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://bugzilla.mozilla.org/"> Submit A Bug</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../faq.html"><B> FAQ</B></A></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="http://www.mozilla.org/search.html"><B> Search</B></A></TD></TR>
</TABLE>
</TD></TR></TABLE>
</TD></TR></TABLE>
</TD>


<TD VALIGN="TOP">






<center>
<h1>performance: tools</h1>
</center>

Contact:
<a href="mailto:waterson@netscape.com">Chris Waterson</a> (waterson@netscape.com)<br>
<small>
$Id: tools.html,v 1.13 2000/02/10 02:47:42 dmose%mozilla.org Exp $
</small>

<h3>Memory Leaks</h3>

<p>
The following tools are used to track down memory leaks in the
product. See also

<a href="http://lxr.mozilla.org/mozilla/source/xpcom/doc/MemoryTools.html">How to debug Memory Leaks</a>.
</p>

<ul>

<li>
<p>
<a href="http://www.rational.com/products/purify_unix/index.jtmpl?borschtid=30142038831761639304">Rational Purify<sup>&reg;</sup></a>. (Commercial)
</p>
</li>

<li>
<p>
<a href="http://www.glowcode.com/summary.htm">GlowCode</a>. (Commercial)
</p>
</li>

<li>
<p>
<a href="http://hpux.ced.tudelft.nl/hppd/hpux/Languages/ElectricFence-2.0.5/">ElectricFence</a>.
<!-- was http://perens.com/FreeSoftware/, that link seems to have died.  -->

<ul>
"Electric Fence ... uses the virtual memory hardware of your system to
detect when software overruns the boundaries of a malloc() buffer. It
will also detect any accesses of memory that has been released by
free(). Because it uses the VM hardware for detection, Electric Fence
stops your program on the first instruction that causes a bounds
violation."
</ul>

Specifically, it works by placing each heap allocation on its own VM
page. Since the dynamic footprint of the browser is pretty large, this
may make it tough to use "in real life".
</p>
</li>

<li>
<p>
<a href="http://lxr.mozilla.org/mozilla/source/tools/leaky/leaky.html">Leaky</a>.

This is a home-grown tool that 

<a href="mailto:kipp@netscape.com">Kipp</a>

put together:

<ul>
"Its a tool called leaky. What it does it help you track down memory
leaks and some kinds of memory corruption. It also has entry pointers
for logging addref/release calls. The key thing that leaky does is
this: it logs all calls to malloc/free/realloc/new/delete into a log
file. The logging data includes information about size and address, as
well as the *call stack of the operation*. The leaky program then can
translate the call stack data from addresses into symbols and then
dump the data out."

<a href="news://news.mozilla.org/373C5BDD.AF4AA639%40netscape.com">*</a>
</ul>
</p>
</li>

<li>
<p>
<a href="refcnt-balancer.html">refcount balancer</a>.

This is another home-grown tool that does finer-grained
instrumentation and allows you to focus on specific objects rather
than entire runs.
</p>
</li>

<li>
<p>
<a href="http://www.parasoft.com/products/insure/index.htm">Insure++<sup>&reg;</sup></a>. (Commercial)
Free <a href="http://www.parasoft.com/press/releases/insure/ins_lite_ver.htm">Linux version</a>.
</p>
</li>

<li>
<a href="http://www.andreasen.org/LeakTracer/">LeakTracer</a>.
</li>

<li>
<a href="http://iseran.ira.uka.de/~armin/ccmalloc/">ccmalloc</a>.
</li>

<li>
<a href="http://quorum.tamu.edu/jon/gnu/">debauch</a>.
</li>

<li>
<a href="http://www.link-data.com/sourcecode.html">memwatch</a>.
</li>

<li>
<a href="http://www.geodesic.com/products/greatcircle.html">Geodesic Systems' GreatCircle</a>.

<a href="mailto:fur@netscape.com">Scott Furman</a> has done some
preliminary work to get this product working with Mozilla.
</ul>
<a name="profiling"></a>
<h3>Profiling</h3>

<p>
The following tools are used to measure product performance.
</p>

<ul>

<li>
<p>
<a href="http://www.rational.com/products/quantify/index.jtmpl?borschtid=30142038831761639304">Rational Quantify</a>. (Commercial)
  <ul>
    <li>
    <a href="qfy2html.pl">qfy2html.pl</a>. A Perl script for munging
    Quantify 6.0 output into hyperlinked HTML to share with your
    friends. Run Quantify, save your results as text, and then let
    this thing rip.
    </li>
    <li>
    <a href="../unix/quantify.html">Quantifying Mozilla on
    Solaris</a>.  Instructions on how to make Quantify play 
    nicely with Mozilla on Solaris.
    </li>
  </ul>
</li>
</p>
</li>

<li>
<p>
<a href="ftp://ftp.apple.com/developer/Development_Kits/Instrumentation_SDK.hqx">Mac Instrumentation SDK</a>.

The Instrumentation SDK allows you to do code performance analysis,
collecting time-based data, and other data by putting instrumentation
points in your code, and running. Check out the

<code>
<a href="http://lxr.mozilla.org/seamonkey/source/build/mac/tools/InstrumentationHelpers.h">InstrumentationHelpers.h</a>
</code>

header file for more information on how to use it with Mozilla.
</p>
</li>

<li>
<p>
<a href="http://alisa.ucsd.edu/cgi/webman?SEARCH+man5+hiprof.5.gz">hiprof</a>.

A hierarchical instruction profiler for Digital Unix. There is an

<a href="atom/atom.html">online tutorial</a>, courtesy

<a href="mailto:jim_nance@yahoo.com">Jim Nance</a> (jim_nance@yahoo.com):

<ul>
"I like it because it does not require you to recompile the program,
because it give accurate times for callers, and because it comes with
DU so that everyone developing there should already have it."

<a href="news://news.mozilla.org/slrn7jop6f.jlq.jlnance%40Bessie.acs.uncwil.edu">*</a>
</ul>
</p>
</li>
<li>
<p><a href=http://lxr.mozilla.org/mozilla/source/tools/jprof/README.html>
   jprof</a>.  Sampling profiling tool by <a href="mailto:jim_nance@yahoo.com">
   Jim Nance</a> that runs on RedHat 6.1.
<li>
<p>
<a href="http://www.cs.utah.edu/csinfo/texinfo/as/gprof_toc.html">gprof</a>.

There are rumors that this has trouble with dynamically linked and
loaded objects (like Mozilla).
</p>
</li>

</ul>





</TD>

</TR>
<TR>

<TD COLSPAN="2" ALIGN="RIGHT" VALIGN="TOP">
<FONT SIZE="-1">
Copyright &copy; 1998-2000 The Mozilla Organization.
<BR>
<A HREF="http://www.mozilla.org/webtools/bonsai/cvslog.cgi?file=mozilla-org/html/performance/tools.html&amp;rev=&amp;root=/cvsroot/">Last modified February 10,  2000</A>.
</FONT>
</TD>
</TR>

</TABLE>
</BODY>
</HTML>
