<HTML>
<HEAD>
<TITLE>mozilla.org</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT=0 MARGINWIDTH=0>

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP ROWSPAN=2><IMG
SRC="../../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH=600 HEIGHT=58 VSPACE=0 HSPACE=0></TD></TR></TABLE>
<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR>


<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=TOP><IMG ALT=""
SRC="../../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP ROWSPAN=2>

<BR><TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../..//"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../mission.html"> Our Mission</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../about.html"> Who We Are</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../get-involved.html"> Getting Involved</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../community.html"> Community</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../advocacy.html"> Editorials</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../news.html"> What's New</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../development.html"><B> Development</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../blue-sky/"> Blue Sky</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../projects.html"> Projects</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../status/"> Status</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../tools.html"> Tools</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../products.html"><B> Products</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../source.html"> Source Code</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../binaries.html"> Binaries</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../docs/"> Documentation</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../NPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../bugs/"> Bug Reports</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../search.html"><B> Search</B></A></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../feedback.html"><B> Feedback</B></A></TD></TR>
</TABLE><BR>

</TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD VALIGN=TOP><IMG ALT=""
SRC="../../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP ROWSPAN=2>
<P><BR>






<HR><B><FONT><FONT COLOR="#008080">Forms</FONT></FONT></B>
<BR><FONT><FONT SIZE=-1>Author: <U><FONT COLOR="#3366FF"><A HREF="mailto:karnaze@netscape.com">Chris
Karnaze</A></FONT></U></FONT></FONT>
<BR>Updated: 12 Oct. 1998
<BR>
<HR>
<BR>
<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
 <TR>
  <TD><B>Overview</B></TD>
 </TR>
</TABLE>

<BR>Forms consist of the content and
layout classes supporting &lt;FORM>, &lt;INPUT>, &lt;LABEL>, &lt;BUTTON>,
&lt;SELECT>, &lt;OPTION>, &lt;OPTGROUP>, &lt;TEXTAREA>, &lt;ISINDEX>, &lt;FIELDSET>,
&lt;LEGEND> tags. The content classes have graphical representations such
as buttons, checkboxes, pull down lists,
radio buttons, etc. which are laid out and rendered by the corresponding
layout classes. The content class except for &lt;FORM> are referred to
as form controls.

<P><I>nsIFormManager</I> specifies a
manager on the layout side that coordinates activities among the various
form control layout classes. The manager is primarily responsible for submitting
the data that the user enters into the controls to a server for processing.
<BR>
<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
 <TR>
  <TD><B>Major Components</B></TD>
 </TR>
</TABLE>


<P>The various tags (see above) are
comprised of content classes (e.g. nsHTMLFormElement, nsHTMLInputElement,
etc.) and layout classes including nsFormFrame, nsFormControlFrame, nsButtonControlFrame,
nsHTMLButtonControlFrame, nsCheckBoxControlFrame, nsRadioControlFrame,
nsTextControlFrame, nsSelectControlFrame, nsFileControlFrame, nsFieldSetFrame,
nsLegendFrame.

<P>The content classes are fairly light
weight and provide basic getters and setters of their attributes. nsHTMLFormElement
implements <I>nsIForm</I> which allows for the addition of form controls
(the level 1 DOM implementation does not provide this). Each of the form
controls implements <I>nsIFormControl</I> which provides a consistent way
to treat form controls for gettting/setting their forms, getting their
types, etc.

<P>The layout classes provide general
layout behavior for forms and form controls as well as additional operations.
nsFormFrame implements <I>nsIFormManager </I>which<I> </I>specifies adding,
removing, retrieving <I>nsIFormControls</I> plus methods for responding
to events triggered by form control layout classes such as reset, submit,
and user return. nsFormFame is also referred to as the form manager. nsFormControlFrame
implements <I>nsIFormControlFrame</I> and serves as a base class class
to nsButtonControlFrame, nsCheckBoxControlFrame, nsRadioControlFrame, nsSelectControlFrame,
nsTextControlFrame. The form control layout classes implement <I>nsIFormControlFrame</I>
but don't necssarily derive from nsFormControl.

<P>Forms and form controls, and their
associated layout classes interact with other modules in a number of ways.
The html content sink creates forms and&nbsp; form controls as the html
tags are interpreted. HTMLStyleSheetImpl creates the appropriate frames
for the forms and form controls as the layout engine prepares for layout.
The form and form control layout classes render and handle events using
the view system together with the widget library.

<P>
<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
 <TR>
  <TD><B>Implementation</B></TD>
 </TR>
</TABLE>

<BR>nsFormFrame has responsibility to
(1) responds to a submit button press and submit the form control data
to a server, (2) respond to a reset button press and reset all of the form
controls to their initial values, and (3) manage radio button groups so
that only one button in the group is active at any given time.

<P><I>nsIFormControlFrame</I>
defines <I>GetType</I>, <I>GetName</I>, <I>MouseClicked</I>, <I>Reset</I>,
<I>IsSuccessful</I>, <I>GetMaxNumValues</I>, <I>GetNamesValues</I>. <I>GetNamesValues</I>
gathers the name value pairs (nsSelectControlFrames and nsButtonControlFrames
representing an image submit button can have multiple pairs). <I>MouseClicked</I>
provides a hook to do additional processing if necessary; for example,
a submit button will notify the form manager to submit data. <I>IsSuccessful</I>
indicates whether submission for a control should occur.

<P>nsFormControlFrame adds additional
methods including <I>PostCreateWidget,</I> <I>CalculateSize</I>, <I>GetTextSize</I>,
<I>GetWidgetInitData. GetWidgetInitData </I>gathers data which the view
system will use to initialize a widget. <I>PostCreateWidget</I> allows
for processing after the widget is created; for example, initial values
can be used to set the widget to the appropriate state. <I>CalculateSize
</I>is a static method that determines the size of a control based on CSS
settings, local size attributes, attribute values that may affect size,
and default values. It is general enough to be used for nearly all of the
widget based form controls. <I>GetTextSize</I> calculates the size of a
string based on CSS.

<P>Many form control frames have their
own view which contains a widget from the cross-platform widget library.
There are exceptions; a hidden element, represented as nsButtonControlFrame,
does not have its own view; an nsFileControlFrame does not have its own
view but contains an nsTextControlFrame and an nsButtonControl Frame each
having its own view; an image submit button, represented as nsButtonControlFrame,
does not have its own view; nsHTMLButtonControlFrame has its own view but
the view does not have a widget; nsFieldSetControlFrame and nsLegendControlFrame
do not have their own views.
<BR>
<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
 <TR>
  <TD><B>Dependencies</B></TD>
 </TR>
</TABLE>

<BR>Forms are dependent on many other
modules including xpcom, netlib, layout, style, gfx, view, widget, dom/javascript.

<P>
<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
 <TR>
  <TD><B>Roadmap</B></TD>
 </TR>
</TABLE>

<BR>In May, most of html 3.2 features
were completed except for internationalization support. There was be a
break in the schedule during the summer to allow dependencies to catch
up and to work on frames. In October, the remaining areas including html
4 features will be completed. Other integration changes due to dependencies
may likely continue beyond that time.
<BR>
<TABLE COLS=1 WIDTH="80%" BGCOLOR="#FFFFCC" >
 <TR>
  <TD><B>Known Bugs</B></TD>
 </TR>
</TABLE>

<BR>There are existing bugs in bugzilla,
but the most serious ones include limitations of the underlying widget
set and may not be addressed in the first release.
<BR>
<TABLE COLS=1 WIDTH="70%" >
 <TR BGCOLOR="#FFFFCC">
  <TD><B>Schedule</B></TD>
 </TR>
</TABLE>




<P><BR>
</TD>


<TD VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

</TR>
<TR>


<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM><IMG ALT=""
SRC="../../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD VALIGN=BOTTOM><IMG ALT=""
SRC="../../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>
</TR>

<TR>

<TD BGCOLOR="#000000" COLSPAN=6><BR></TD>

<TD BGCOLOR="#000000" VALIGN=TOP>

<FONT COLOR="#AAAAAA" SIZE="-1">
Copyright &copy; 1998 The Mozilla Organization.
</FONT>

</TD>

<TD BGCOLOR="#000000" COLSPAN=2><BR></TD>
</TR>

</TABLE>
<P>
</BODY>
</HTML>
