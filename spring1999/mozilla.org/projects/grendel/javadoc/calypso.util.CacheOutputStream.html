<HTML>
<HEAD>
<TITLE>mozilla.org</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT=0 MARGINWIDTH=0>

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP ROWSPAN=2><IMG
SRC="../../../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH=600 HEIGHT=58 VSPACE=0 HSPACE=0></TD></TR></TABLE>
<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">

<TR>


<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>



<TD BGCOLOR="#DDDDDD" VALIGN=TOP COLSPAN=2><IMG ALT=""
SRC="../../../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP><IMG ALT=""
SRC="../../../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP ALIGN=RIGHT>
</TD>


<TD VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

</TR>


<TR>

<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP COLSPAN=3>

<BR><TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../..//"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../mission.html"> Our Mission</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../about.html"> Who We Are</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../get-involved.html"> Getting Involved</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../community.html"> Community</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../advocacy.html"> Editorials</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../news.html"> What's New</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../newsbot/"> Newsbot</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../../development.html"><B> Development</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../blue-sky/"> Blue Sky</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../projects.html"> Projects</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../status/"> Status</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../tools.html"> Tools</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../../products.html"><B> Products</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../source.html"> Source Code</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../binaries.html"> Binaries</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../docs/"> Documentation</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../NPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../bugs/"> Bug Reports</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../quality/"> Quality</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../../search.html"><B> Search</B></A></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../../feedback.html"><B> Feedback</B></A></TD></TR>
</TABLE><BR>
</TD>


<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP ALIGN=RIGHT>
</TD>


<TD VALIGN=TOP>
<P><BR>

<!-- Automatically generated with polardoc Version 1.0.4 on Tue Sep 08 11:22:09 PDT 1998 -->
<!-- calypso.util.CacheOutputStream | Do not remove or edit this line! -->


<TITLE>
  Class calypso.util.CacheOutputStream
</TITLE>


<A NAME="_Top_"></A>
<PRE>
<A HREF="Packages.html">All Packages</A>  <A HREF="Package-calypso.util.html">This Package</A>  <A HREF="Tree.html">Class Hierarchy</A>  <A HREF="Search.html">Class Search</A>  <A HREF="AllNames.html">Index</A>
</PRE>
<HR SIZE=1 ALIGN=left WIDTH="98%">
<H1>
     Class calypso.util.CacheOutputStream
</H1>
<PRE>
<A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.Object.html#_Top_">java.lang.Object</A>
   |
   +----<A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.OutputStream.html#_Top_">java.io.OutputStream</A>
           |
           +----calypso.util.CacheOutputStream
</PRE>
<DL>
<P>
This class provides buffering for arbitrarily large streams of data.
    It is an <TT>OutputStream</TT>, so you just write the data you want to
    cache to it.  Then, when you've written all of your data (and called
    <TT>close()</TT>) you can get the data back by calling
    <TT>makeInputStream()</TT>, which returns an <TT>InputStream</TT>.

    <P> If you decide you don't want the data at all, you should call
    <TT>discardBuffer()</TT> as early as possible, to avoid having a temporary
    file stay around longer than necessary.  It's not necessary to call
    <TT>discardBuffer()</TT> if you have called <TT>makeInputStream()</TT>;
    it is called automatically when that stream is closed.  However, it is
    ok to call <TT>discardBuffer()</TT> than once.

    <P> So, one conservative way of using this would be:
    <UL>
    <TT>CacheOutputStream output = new CacheOutputStream();</TT><BR>
    <TT>try {</TT><BR>
    <TT>&nbsp;&nbsp;</TT><I>... write bytes to `output' ...</I><BR>
    <TT>&nbsp;&nbsp;output.close();</TT><BR>
    <BR>
    <TT>&nbsp;&nbsp;InputStream input = output.makeInputStream();</TT><BR>
    <TT>&nbsp;&nbsp;try {</TT><BR>
    <TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT><I>... read bytes from `input' ...</I>
    <BR>
    <TT>&nbsp;&nbsp;} finally {</TT><BR>
    <TT>&nbsp;&nbsp;&nbsp;&nbsp;input.close();</TT><BR>
    <TT>&nbsp;&nbsp;}</TT><BR>
    <BR>
    <TT>} finally {</TT><BR>
    <TT>&nbsp;&nbsp;output.discardBuffer();</TT><BR>
    <TT>}</TT></PRE></UL><P>

    <DL><DT>Implementation:</DT><DD>
        <P> The bytes written to the stream are buffered in memory, until
        a size threshold is reached, or a memory-allocation error occurs.
        At that point, a temporary file is created, and buffering continues
        there.  Therefore, files are not used for small objects; this ensures
        that buffering of small objects is fast, but buffering of arbitrarily
        large objects is possible.
    </DL>
<P>
</DL>
<HR SIZE=1 ALIGN=left WIDTH="98%">
<A NAME="_Summary_"></A>
<PRE>
public class  <STRONG>CacheOutputStream</STRONG>
     extends java.io.<A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.OutputStream.html#_Top_">OutputStream</A>
{
          // Fields 6
     protected Object <A HREF="#bs_handle">bs_handle</A>;
     protected OutputStream <A HREF="#bs_stream">bs_stream</A>;
     protected byte[] <A HREF="#mem_cache">mem_cache</A>;
     protected int <A HREF="#mem_cache_fp">mem_cache_fp</A>;
     protected double <A HREF="#mem_cache_increment">mem_cache_increment</A>;
     protected int <A HREF="#mem_cache_max_size">mem_cache_max_size</A>;

          // Constructors 3
     public <A HREF="#CacheOutputStream()">CacheOutputStream</A>();
     public <A HREF="#CacheOutputStream(int)">CacheOutputStream</A>(int);
     public <A HREF="#CacheOutputStream(int, int)">CacheOutputStream</A>(int, int);

          // Methods 13
     public void <A HREF="#close()">close</A>() throws IOException;
     protected InputStream <A HREF="#createBackingStoreInputStream()">createBackingStoreInputStream</A>() throws FileNotFoundException;
     protected void <A HREF="#discardBackingStore()">discardBackingStore</A>();
     public synchronized void <A HREF="#discardBuffer()">discardBuffer</A>();
     protected void <A HREF="#finalize()">finalize</A>();
     public void <A HREF="#flush()">flush</A>() throws IOException;
     protected void <A HREF="#growMemCache(int)">growMemCache</A>(int) throws IOException;
     protected void <A HREF="#increaseCapacity(int)">increaseCapacity</A>(int) throws IOException;
     public InputStream <A HREF="#makeInputStream()">makeInputStream</A>() throws IOException, FileNotFoundException;
     protected void <A HREF="#switchToBackingStore()">switchToBackingStore</A>() throws IOException;
     public void <A HREF="#write(byte[])">write</A>(byte[]) throws IOException;
     public void <A HREF="#write(byte[], int, int)">write</A>(byte[], int, int) throws IOException;
     public void <A HREF="#write(int)">write</A>(int) throws IOException;
}
</PRE>
<P>
<HR SIZE=1 ALIGN=left WIDTH="98%">
<CENTER><BR><H2>Fields</H2></CENTER>
<BR><H3> <A NAME="mem_cache"><FONT COLOR="#FF00FF">&#149;</FONT> mem_cache</A></H3>
<PRE>
   protected byte[] mem_cache
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="mem_cache_fp"><FONT COLOR="#FF00FF">&#149;</FONT> mem_cache_fp</A></H3>
<PRE>
   protected int mem_cache_fp
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="mem_cache_max_size"><FONT COLOR="#FF00FF">&#149;</FONT> mem_cache_max_size</A></H3>
<PRE>
   protected int mem_cache_max_size
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="mem_cache_increment"><FONT COLOR="#FF00FF">&#149;</FONT> mem_cache_increment</A></H3>
<PRE>
   protected double mem_cache_increment
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="bs_handle"><FONT COLOR="#FF00FF">&#149;</FONT> bs_handle</A></H3>
<PRE>
   protected <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.Object.html#_Top_">Object</A> bs_handle
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<BR><H3> <A NAME="bs_stream"><FONT COLOR="#FF00FF">&#149;</FONT> bs_stream</A></H3>
<PRE>
   protected <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.OutputStream.html#_Top_">OutputStream</A> bs_stream
</PRE>
<BLOCKQUOTE>
<BR>
<P> </BLOCKQUOTE>

<P>
<HR SIZE=1 ALIGN=left WIDTH="98%">

<CENTER><BR><H2>Constructors</H2></CENTER>
<BR><H3><A NAME="CacheOutputStream"><FONT COLOR="#FFCC00">&#149;</FONT></A>
<A NAME="CacheOutputStream()">CacheOutputStream</A> </H3>
<PRE>
   public CacheOutputStream() </PRE>
<BLOCKQUOTE>
<DL>
<P>
Creates a CacheOutputStream with default buffer sizes.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="CacheOutputStream"><FONT COLOR="#FFCC00">&#149;</FONT></A>
<A NAME="CacheOutputStream(int)">CacheOutputStream</A> </H3>
<PRE>
   public CacheOutputStream(int max_resident_size) </PRE>
<BLOCKQUOTE>
<DL>
<P>
Creates a CacheOutputStream with the given maximum memory usage.
      If an attempt is made to buffer more than the specified number of
      bytes, then the memory buffer will be traded for a disk buffer.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="CacheOutputStream"><FONT COLOR="#FFCC00">&#149;</FONT></A>
<A NAME="CacheOutputStream(int, int)">CacheOutputStream</A> </H3>
<PRE>
   public CacheOutputStream(int probable_size, 
                            int max_resident_size) </PRE>
<BLOCKQUOTE>
<DL>
<P>
Creates a CacheOutputStream with the given initial memory buffer size,
      and given maximum memory usage.
      If an attempt is made to buffer more than the specified number of
      bytes, then the memory buffer will be traded for a disk buffer.
<P>
</DL>
</BLOCKQUOTE> <BR>

<HR SIZE=1 ALIGN=left WIDTH="98%">

<CENTER><BR><H2>Methods</H2></CENTER>
<BR><H3><A NAME="write"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="write(byte[])">write</A> </H3>
<PRE>
   public void write(byte[] bytes)  throws <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.IOException.html#_Top_">IOException</A></PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.OutputStream.html#write(byte[])">write</A> in class <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.OutputStream.html#_Top_">OutputStream</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="write"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="write(byte[], int, int)">write</A> </H3>
<PRE>
   public void write(byte[] bytes, 
                     int start, 
                     int length)  throws <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.IOException.html#_Top_">IOException</A></PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.OutputStream.html#write(byte[], int, int)">write</A> in class <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.OutputStream.html#_Top_">OutputStream</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="write"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="write(int)">write</A> </H3>
<PRE>
   public void write(int b)  throws <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.IOException.html#_Top_">IOException</A></PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.OutputStream.html#write(int)">write</A> in class <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.OutputStream.html#_Top_">OutputStream</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="close"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="close()">close</A> </H3>
<PRE>
   public void close()  throws <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.IOException.html#_Top_">IOException</A></PRE>
<BLOCKQUOTE>
<DL>
<P>
Indicate (only) that no more data will be written in to the buffer.
      After calling <TT>close()</TT>, one must eventually call either
      <TT>makeInputStream()</TT> or <TT>discardBuffer()</TT>.
<P>
<DT><B>Overrides:</B>
<DD><A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.OutputStream.html#close()">close</A> in class <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.OutputStream.html#_Top_">OutputStream</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="flush"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="flush()">flush</A> </H3>
<PRE>
   public void flush()  throws <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.IOException.html#_Top_">IOException</A></PRE>
<BLOCKQUOTE>
<DL>
<DT><B>Overrides:</B>
<DD><A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.OutputStream.html#flush()">flush</A> in class <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.OutputStream.html#_Top_">OutputStream</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="increaseCapacity"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="increaseCapacity(int)">increaseCapacity</A> </H3>
<PRE>
   protected void increaseCapacity(int count)  throws <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.IOException.html#_Top_">IOException</A></PRE>
<BLOCKQUOTE>
<DL>
<P>
Ensure that there is room to write an additonal `count' bytes.
      If this would exceed the memory cache size, set up the disk cache.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="growMemCache"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="growMemCache(int)">growMemCache</A> </H3>
<PRE>
   protected void growMemCache(int count)  throws <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.IOException.html#_Top_">IOException</A></PRE>
<BLOCKQUOTE>
<DL>
<P>
Assuming the memory cache is in use, expand the mem_cache to be
      able to hold an additional `count' bytes if necessary.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="discardBuffer"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="discardBuffer()">discardBuffer</A> </H3>
<PRE>
   public synchronized void discardBuffer() </PRE>
<BLOCKQUOTE>
<DL>
<P>
Call this when you're done with this object.
      It's important that you call this if you're not planning on calling
      makeInputStream(); if you don't, a temp file could stay around longer
      than necessary.

      <P> You must not use this CacheOutputStream object after having called
      discardBuffer().

      <P> If you call makeInputStream(), you must not call discardBuffer()
      before you are finished with the returned stream.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="makeInputStream"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="makeInputStream()">makeInputStream</A> </H3>
<PRE>
   public <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.InputStream.html#_Top_">InputStream</A> makeInputStream()  throws <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.IOException.html#_Top_">IOException</A>, <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.FileNotFoundException.html#_Top_">FileNotFoundException</A></PRE>
<BLOCKQUOTE>
<DL>
<P>
Returns an InputStream that returns the data previously written
      into this object.  This may only be called once, and only after
      <TT>close()</TT> has been called.  It is also important that the
      returned InputStream be closed when the caller is done with it;
      failure to do so could cause a temp file to stay around longer
      than necessary.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="finalize"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="finalize()">finalize</A> </H3>
<PRE>
   protected void finalize() </PRE>
<BLOCKQUOTE>
<DL>
<P>
Calls discardBuffer(), in case this object was dropped without being
      properly shut down.
<P>
<DT><B>Overrides:</B>
<DD><A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.Object.html#finalize()">finalize</A> in class <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.lang.Object.html#_Top_">Object</A>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="switchToBackingStore"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="switchToBackingStore()">switchToBackingStore</A> </H3>
<PRE>
   protected void switchToBackingStore()  throws <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.IOException.html#_Top_">IOException</A></PRE>
<BLOCKQUOTE>
<DL>
<P>
Assuming the memory cache is in use, switch to using the disk cache.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="discardBackingStore"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="discardBackingStore()">discardBackingStore</A> </H3>
<PRE>
   protected void discardBackingStore() </PRE>
<BLOCKQUOTE>
<DL>
<P>
Assuming backing-store is in use, delete the underlying temp file.
<P>
</DL>
</BLOCKQUOTE> <BR>

<BR><H3><A NAME="createBackingStoreInputStream"><FONT COLOR="#FF0000">&#149;</FONT></A>
<A NAME="createBackingStoreInputStream()">createBackingStoreInputStream</A> </H3>
<PRE>
   protected <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.InputStream.html#_Top_">InputStream</A> createBackingStoreInputStream()  throws <A HREF="http://java.sun.com/products/jdk/1.1/docs/api/java.io.FileNotFoundException.html#_Top_">FileNotFoundException</A></PRE>
<BLOCKQUOTE>
<DL>
<P>
Assuming backing-store is in use, creates an InputStream that reads
      from the underlying TempFile, and will call this.discardBuffer()
      when that InputStream reaches EOF.
<P>
</DL>
</BLOCKQUOTE> <BR>

<HR SIZE=1 ALIGN=left WIDTH="98%">

<PRE>
<A HREF="Packages.html">All Packages</A>  <A HREF="Package-calypso.util.html">This Package</A>  <A HREF="Tree.html">Class Hierarchy</A>  <A HREF="Search.html">Class Search</A>  <A HREF="AllNames.html">Index</A>
</PRE>
<FONT SIZE=-1>
<I>Freshly brewed Java API Documentation automatically generated with <A HREF="http://www.ualberta.ca/~tgee/polardoc">polardoc</A> Version 1.0.4
<BR>
</I></FONT>




<P><BR>
</TD>


<TD VALIGN=TOP ALIGN=RIGHT>
</TD>


<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

</TR>


<TR>


<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM COLSPAN=2><IMG ALT=""
SRC="../../../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=BOTTOM COLSPAN=2><IMG ALT=""
SRC="../../../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>
</TR>

<TR>

<TD BGCOLOR="#000000" COLSPAN=6><BR></TD>

<TD BGCOLOR="#000000" VALIGN=TOP>

<FONT COLOR="#AAAAAA" SIZE="-1">
Copyright &copy; 1998 The Mozilla Organization.
</FONT>

</TD>

<TD BGCOLOR="#000000" COLSPAN=2><BR></TD>
</TR>

</TABLE>
<P>
</BODY>
</HTML>
