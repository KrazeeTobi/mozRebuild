<HTML>
<HEAD>
<TITLE>Miscellaneous Dialogs</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT="0" MARGINWIDTH="0">

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" ALT="" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP><IMG
SRC="../../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH="600" HEIGHT="58" VSPACE="0" HSPACE="0"></TD></TR></TABLE>

<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">


<TR>


<TD VALIGN="TOP" >
<TABLE BORDER="0" ><TR><TD BGCOLOR="#000000" VALIGN="TOP">
<TABLE BORDER="0" CELLSPACING="3"><TR><TD BGCOLOR="#DDDDDD" VALIGN="TOP">
<TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD NOWRAP COLSPAN=2><A HREF="../.././"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../mozorg.html"> At A Glance</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../feedback.html"> Feedback</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../get-involved.html"> Get Involved</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../community.html"> Newsgroups</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../MPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://www.mozilla.org/newsbot/"> Newsbot</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../docs/"><B> Developer Docs</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../projects/"> Projects</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../ports/"> Ports</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../hacking/"> Hacking</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../source.html"> Get the Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../build/"> Build It</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../quality/"><B> Testing</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../binaries.html"> Download</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../bugs/"> Bugzilla</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../quality/bug-writing-guidelines.html"> Bug Writing</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../tools.html"><B> Tools</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://lxr.mozilla.org/seamonkey/"> View Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://tinderbox.mozilla.org/showbuilds.cgi?tree=SeaMonkey"> Tree Status</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://cvs-mirror.mozilla.org/webtools/bonsai/cvsquery.cgi?treeid=default&amp;module=SeaMonkeyAll&amp;branch=HEAD&amp;branchtype=match&amp;dir=&amp;file=&amp;filetype=match&amp;who=&amp;whotype=match&amp;sortby=Date&amp;hours=2&amp;date=day&amp;mindate=&amp;maxdate=&amp;cvsroot=%2Fcvsroot"> New Checkins</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://bugzilla.mozilla.org/"> Submit A Bug</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../faq.html"><B> FAQ</B></A></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="http://www.mozilla.org/search.html"><B> Search</B></A></TD></TR>
</TABLE>
</TD></TR></TABLE>
</TD></TR></TABLE>
</TD>


<TD VALIGN="TOP">




   
   



<h1>
Miscellaneous Composer Dialogs</h1>

<div align=right><font size=-1>Last updated 1/20/99 by Charles Manske</font>
<br><font size=-1>(<a href="mailto:cmanske@netscape.com">cmanske@netscape.com</a>)</font></div>

<h2>
<a NAME="HorizontalLinePropertiesDialog"></a>1. Horizontal Line Properties</h2>

<table BORDER=0 CELLSPACING=2 CELLPADDING=2 >
<tr VALIGN=TOP>
<td>Windows:</td>

<td>Mac:</td>

<td>UNIX:</td>
</tr>

<tr VALIGN=TOP>
<td><img SRC="HLineDlg_W.gif" BORDER=0 height=253 width=294></td>

<td><img SRC="HLineDlg_M.jpg" height=185 width=349></td>

<td></td>
</tr>
</table>

<h3>
Invoke</h3>

<ul>
<li>
When a horizontal rule element is the only thing selected, the dynamic
"Properties" item in the Format menu should say: "Horizontal Line Properties."
This will bring up the Horizontal Line dialog.</li>

<li>
Double click on a horizontal line.</li>

<li>
Note: We <i>do not </i>invoke this dialog when creating a new horizontal
line (Insert | Horizontal Line), unlike other inserted objects such as
table, image, target, and HTML tag, because this is a relatively simple
object and thus will most likely be used with the same properties as the
last horizontal rule inserted. The initial values of Height, Width, Alignment,
and 3-D Shading should be obtained from Editor Preferences (editor.hrule.height,
editor.hrule.width, editor.hrule.width_percent, editor.hrule.shading, and
editor.hrule.align ) rather than the usual method of getting settings from
the user.</li>
</ul>

<h3>
Initialization</h3>

<blockquote>
<ol>
<li>
Get the properties of the selected horizontal line and fill in matching
fields in the dialog:</li>
</ol>

<table BORDER COLS=2 WIDTH="80%" >
<tr>
<th WIDTH="100">HTML Parameter</th>

<th>Dialog Control</th>
</tr>

<tr VALIGN=TOP>
<td>HEIGHT</td>

<td>Write value into Height editbox</td>
</tr>

<tr VALIGN=TOP>
<td>WIDTH</td>

<td>Write value into Width editbox.
<br>If the WIDTH value uses "%", then set the Width Units combobox to "%
of window"&nbsp;
<br>If WIDTH is not in %,&nbsp; Display the text "pixels" in the combobox.</td>
</tr>

<tr>
<td>CENTER, RIGHT</td>

<td>Set appropriate Alignment radio button for Left, Center, and Right
alignment.
<br>Default when parameter is missing is "Left"</td>
</tr>

<tr>
<td>NOSHADE</td>

<td>If NOSHADE parameter is present, then clear the 3-D shading checkbox.
<br>Default when not present is to check this checkbox.</td>
</tr>
</table>

<ol START=2>
<li>
The "Save settings as default" checkbox is checked the first time this
dialog is used during the current session. If the user changes this setting,
we store it in a global variable so the checkbox is the same as the user's
last setting, but only during this editing session.</li>
</ol>
</blockquote>

<h3>
Actions</h3>

<blockquote>&nbsp;
<table BORDER COLS=2 WIDTH="80%" >
<tr>
<th WIDTH="100">Click Button</th>

<th>Response</th>
</tr>

<tr VALIGN=TOP>
<td>OK or Apply</td>

<td>Get the state of the controls and save the Height, Width, and NOSHADE
values
<ol>
<li>
Save the HEIGHT editbox value.</li>

<li>
Save the WIDTH editbox value and append "%" if the combobox state is "%
of window"</li>

<li>
Include the NOSHADE parameter only if the "3-D shading" checkbox is unchecked</li>

<li>
Save the extra HTML</li>

<li>
If the "Save settings as default" checkbox is check, save the appropriate
values to preferences: editor.hrule.height, editor.hrule.width, editor.hrule.width_percent,
editor.hrule.shading, and editor.hrule.align</li>

<li>
Apply all settings to the highlighted horizontal line in the document.</li>

<li>
Finish:</li>

<ul>
<li>
If OK was used: Dismiss the dialog</li>

<li>
If Apply was used: Change the text on the "Cancel" button to "Close" to
mimick the behavior of a buttons in a <a href="Composer_5_Dialogs.html#MultipaneDialogs">multipane
dialog</a>. The dialog should stay active.</li>
</ul>
</ol>
</td>
</tr>

<tr VALIGN=TOP>
<td>Cancel</td>

<td>Dismiss the dialog and do not change any settings</td>
</tr>

<tr>
<td>Extra HTML</td>

<td>Popup the <a href="#ExtraHTMLDialog">Extra HTML dialog</a> and save
the resulting string as the "extra HTML" for the HRule element.</td>
</tr>

<tr>
<td>Help</td>

<td>Bring up help for this dialog. Remain in dialog.</td>
</tr>
</table>
</blockquote>

<h3>
Enhancements</h3>

<ol>
<li>
When the current selection is a single Horizontal line, using "Insert |
Horizontal line" edits the properties of the object rather than inserting
a new one. We should decide if that is the behavior we want, as discussed
in the <a href="http://webgroup/composer/ImageDialogs.html#InsertElementPropertiesProblem">Image
dialog enhancements</a>.</li>

<li>
The "% of window" text in the Width units combobox should be changed to
"% of parent" when the HRule location or insert point in within a table
cell.</li>

<li>
Note the differences between the current Windows and Mac versions. The
Windows version is missing the "Apply" button and the Mac version is missing
the "Save settings as default" checkbox. I think both should be present,
so here is a suggested layout with all controls (note that the locations
of OK and Help should be reversed for the Mac):</li>

<br><img SRC="HLineDlgNew.gif" height=205 width=360></ol>

<h2>

<hr ALIGN=LEFT WIDTH="100%"><a NAME="TargetPropertiesDialog"></a>2. Target
Properties</h2>
&nbsp;
<table BORDER=0 CELLSPACING=2 CELLPADDING=2 >
<tr VALIGN=TOP>
<td>Windows:</td>

<td>Mac:</td>

<td>UNIX:</td>
</tr>

<tr VALIGN=TOP>
<td><img SRC="TargetDlg_W.gif" BORDER=0 height=136 width=260></td>

<td><img SRC="TargetDlg_M.jpg" height=127 width=301></td>

<td></td>
</tr>
</table>
Note: "Target" is Netscape's term for a "named anchor" tag. We have been
using that since the first Composer version and believe it is clearer.
Because of the "Target" frame concept, we should revisit this issue.
<h3>
Invoke</h3>

<ul>
<li>
Menu: Insert | Target to create a new target. Caret can be anyplace in
the document and anything can be selected.</li>

<li>
Toolbar: Target button (edit properties of existing target if it is the
only thing selected, else we will create a new target)</li>

<li>
Menu: Format | Target Properties, when the only item selected is an existing
target.</li>

<li>
Double click on an exisiting target (first mouse down should select the
target)</li>
</ul>

<h3>
Initialization</h3>

<ol>
<li>
Get the current selection in the document.</li>

<ul>
<li>
If a single existing target is selected, then this will change this element.</li>

<li>
If a single target is not selected, then we will insert a new target</li>
</ul>

<li>
Get the currently-selected text from the document to use as the initial
string in the target editobox. This string should be processed to:</li>

<ol>
<li>
Strip out extra spaces and the beginning and end</li>

<li>
Replace all whitespace characters (tabs, linefeeds, etc.) with spaces</li>

<li>
Limit the length of the text to be used in case selection is very large
(about 80 characters maximum?)</li>
</ol>
</ol>

<h3>
Dialog Rules</h3>

<blockquote>Disable the OK button when the target editbox is empty</blockquote>

<h3>
Actions</h3>

<blockquote>&nbsp;
<table BORDER COLS=2 WIDTH="80%" >
<tr>
<th WIDTH="100">Click Button</th>

<th>Response</th>
</tr>

<tr VALIGN=TOP>
<td>OK</td>

<td>
<ol>
<li>
Set target NAME data from the target editbox contents:</li>

<ul>
<li>
If original selection is an existing target, change the target NAME to
the new string.</li>

<li>
If selection was not an existing target, create a new target with user's
NAME string and insert into document at current insert point.</li>
</ul>

<li>
Dismiss the dialog</li>
</ol>
</td>
</tr>

<tr VALIGN=TOP>
<td>Cancel</td>

<td>Dismiss dialog and do not change an existing target and do not insert
a new target.</td>
</tr>

<tr>
<td>Help</td>

<td>Popup help for targets. Remain in target dialog.</td>
</tr>
</table>
</blockquote>

<h3>
Enhancements</h3>

<ol>
<li>
When the current selection is a single target, using "Insert | Target"
edits the properties of the object rather than inserting a new one. We
should decide if that is the behavior we want, as discussed in the <a href="http://webgroup/composer/ImageDialogs.html#InsertElementPropertiesProblem">Image
dialog enhancements</a>.</li>

<li>
Currently this is the only "object property" dialog that does not include
an "Extra HTML" button (this is a reported bug.) For consistency, we should
probably add this functionality to the Target Properties dialog.</li>
</ol>

<h2>

<hr ALIGN=LEFT WIDTH="100%"><a NAME="HTMLTagDialog"></a>3. HTML Tag</h2>

<table BORDER=0 CELLSPACING=2 CELLPADDING=2 >
<tr VALIGN=TOP>
<td>Windows:</td>

<td>Mac:</td>

<td>UNIX:</td>
</tr>

<tr VALIGN=TOP>
<td><img SRC="HtmlTagDlg_W.gif" BORDER=0 height=171 width=477></td>

<td><img SRC="HtmlTagDlg_M.jpg" height=182 width=358></td>

<td></td>
</tr>
</table>

<h3>
Invoke</h3>

<blockquote>Menu: Insert | HTML Tag
<br>Note: We have a toolbar button in 4.x and earlier versions (the so-called
"poof" button), but we decided to remove this button for the 5.0 toolbar
(primarily to save space). If the new toolbars will user-configurable,
we should consider including it as an optional button to add, but it is
not in the default set.</blockquote>

<h3>
Initialization</h3>

<ol>
<li>
Get current selection in the document:</li>

<ol>
<li>
If an existing "unknown" html tag is the only element selected, then use
the contents of this tag to fill the multiline editbox.</li>

<li>
If an unknown tag is not the selection, then we will insert a new tag.</li>
</ol>
</ol>

<h3>
Actions</h3>

<blockquote>&nbsp;
<table BORDER COLS=2 WIDTH="80%" >
<tr>
<th WIDTH="100">Click Button</th>

<th>Response</th>
</tr>

<tr VALIGN=TOP>
<td>OK</td>

<td>Insert the HTML tag into the document at the current insertion point
(caret location) and close the dialog.</td>
</tr>

<tr VALIGN=TOP>
<td>Cancel</td>

<td>The usual - change nothing and insert nothing</td>
</tr>

<tr>
<td>Verify</td>

<td>All we do now is check that the first and last characters (after stripping
spaces from the ends) of the string are "&lt;" and ">" respectively.</td>
</tr>
</table>
</blockquote>

<h3>
<a NAME="HTMLTagEnhancements"></a>Enhancements / Issues</h3>

<ol>
<li>
The Verify button doen't do anything more than check for matching "&lt;"
and ">". We should either improve this to do something more useful or remove
the button.</li>

<li>
When the current selection is a single existing HTML tag, using "Insert
| HTML Tag" edits the properties of the object rather than inserting a
new one. We should decide if that is the behavior we want, as discussed
in the <a href="http://webgroup/composer/ImageDialogs.html#InsertElementPropertiesProblem">Image
dialog enhancements</a>.</li>

<li>
The use of this dialog is much less clear with the new document model and
layout engine. We certainly should not have any "unsupported" HTML tags
like we did before, although this could be used to insert and edit an arbitrary
tag. The problem is that the new Editor is not supposed to know anything
about HTML per see, just the DOM contents, so it is unclear to me how to
set the contents of an "unknown" or arbitrary tag using the DOM. The solution
may be to be sure the user string is well-formed HTML and pass it through
the parser using the same method we will need to paste HTML into the document.</li>

<li>
We have discussed replacing this with a more sophisticated dialog that
might be designed as a generic Property Dialog, ala Visual Basic property
inspectors, so a list of arbitrary tag parameters are used to build a grid
where the left column contains these parameters and each has a combobox
to the right where all possible legal values for that parameter are filled
in. This combobox is used to edit the state of the attribute. The "possible
legal values" must be obtained from a DTD describing the "unknown" tag
and all its parameters and possible values.</li>
</ol>

<h2>

<hr ALIGN=LEFT WIDTH="100%"><a NAME="ExtraHTMLDialog"></a>4. Extra HTML</h2>

<table BORDER=0 CELLSPACING=2 CELLPADDING=2 >
<tr VALIGN=TOP>
<td>Windows:</td>

<td>Mac:</td>

<td>UNIX:</td>
</tr>

<tr VALIGN=TOP>
<td><img SRC="ExtraHtmlDlg_W.gif" BORDER=0 height=184 width=441></td>

<td></td>

<td></td>
</tr>
</table>

<h3>
Invoke</h3>

<blockquote>From the "Extra HTML" button present in most "object" property
dialogs: <a href="http://webgroup/composer/CharacterPropertiesDialogs.html#LinkProperties">Link</a>,
<a href="http://webgroup/composer/ImageDialogs.html#ImageProperties">Image</a>,
<a href="#HorizontalLinePropertiesDialog">Horizontal
Line</a>, <a href="http://webgroup/composer/TablePropertiesDialogs.html#TableProperties">Table</a>,
and <a href="http://webgroup/composer/TablePropertiesDialogs.html#CellProperties">Table
Cell</a>.</blockquote>

<h3>
Initialization</h3>

<blockquote>Get the "extra HTML," which is all the text in a tag remaining
after all editor-supported parameters are parsed out, from the relevant
tag.
<br>This is most commonly scripting contents, but also will contain, for
example, the contents of the USEMAP parameter for the &lt;IMG> tag end
up in extra HTML.</blockquote>

<h3>
Actions</h3>

<blockquote>&nbsp;
<table BORDER COLS=2 WIDTH="80%" >
<tr>
<th WIDTH="100">Click Button
<br>User Action</th>

<th>Response</th>
</tr>

<tr VALIGN=TOP>
<td>OK</td>

<td>Update the contents of the tag associated with this string</td>
</tr>

<tr VALIGN=TOP>
<td>Cancel</td>

<td>Dismiss the dialog and change and insert nothing</td>
</tr>

<tr>
<td>Help</td>

<td>Bring up help topic for extra HTML</td>
</tr>
</table>
</blockquote>

<h3>
Enhancements / Issues</h3>

<blockquote>The use of this dialog in the new editor is problematic, given
that we are only supposed to modify a document via the DOM. We might redesign
this dialog to reflect these architectural changes in how the editor works,
such as those suggested for the <a href="#HTMLTagEnhancements">HTML Tag
dialog</a>.
<br>Another possibility is to not support editing arbitrary "extra parameters"
in the new UI, but rather use the modularity of the new editor to replace
"simple" with "advanced" versions of property dialogs to support different
levels. In this case, we would probably need at least a "Java Script" button
in all object property dialogs since that will be the most common usage.
This JavaScript button would bring up a simple editor identical in format
to the current Extra HTML dialog, unless we want to get fancy and support
specific JS attributes for particular element types (this should definitely
be on a "future features" list.)</blockquote>

<h2>

<hr ALIGN=LEFT WIDTH="100%"><a NAME="RemoveAllCharacterStylesDialog"></a>5.
Remove All Character Styles</h2>

<table BORDER=0 CELLSPACING=2 CELLPADDING=2 >
<tr VALIGN=TOP>
<td>Windows:</td>

<td>Mac:</td>

<td>UNIX:</td>
</tr>

<tr VALIGN=TOP>
<td><img SRC="RemoveLink_W.gif" height=179 width=285></td>

<td><img SRC="RemoveLink_M.GIF" height=136 width=324></td>

<td></td>
</tr>
</table>

<h3>
Invoke</h3>

<blockquote>When using the menu command "Format | Remove All Styles" or
the "Remove all styles" toolbar button is used and:
<ol>
<li>
The current document selection contains one or more links and</li>

<li>
The preference "editor.hints.removelinks" is non-zero</li>
</ol>
</blockquote>

<h3>
Initialization</h3>

<blockquote>All strings in the dialog may be static.
<br>This is currently a "generic hint dialog," i.e., the dialog caption
and message strings at the top of the dialog are passed in so the general
format can be used for similar dialogs where we want to have a preference
tied to the "don't bother me again" checkbox. The current 4.5 version doesn't
use the other versions of the hint dialog, so we may not need to make this
generic dialog for the 5.0 version</blockquote>

<h3>
Actions</h3>

<ol>When either "Yes" or "No" is pressed:
<ol>
<li>
Continue clearing all character attributes in the selection, but remove
the links only if the user clicked the "Yes" button.</li>

<li>
If the "Don't display this message again" checkbox is checked, set the
preference "editor.hints.removelinks" to 1.</li>

<li>
Dismiss the dialog</li>

<br>&nbsp;</ol>
</ol>

<h3>
Enhancements</h3>

<blockquote>Resolve differences in design between different platform versions.</blockquote>

<h2>

<hr ALIGN=LEFT WIDTH="100%"><a NAME="NumericRangeError"></a>6. Numeric
Range Error</h2>

<table BORDER=0 CELLSPACING=2 CELLPADDING=2 >
<tr VALIGN=TOP>
<td>Windows:</td>

<td>Mac:</td>

<td>UNIX:</td>
</tr>

<tr VALIGN=TOP>
<td><img SRC="NumericErrorDlg_W.gif" height=119 width=285></td>

<td><img SRC="NumericErrorDlg_M.gif" height=183 width=318></td>

<td></td>
</tr>
</table>

<h3>
Invoke</h3>

<blockquote>Used by numerous property dialogs when an user-enterred editbox
or combobox value is outside of a given range of integers.</blockquote>

<h3>
Initialization</h3>

<blockquote>Fill in the minimum and maximum allowable values (passed into
the dialog) into the message string and display this message.</blockquote>

<h3>
Actions</h3>

<ol>After user clicks OK, dismiss the dialog and put the focus in the edit
field where the error occured</ol>

<h3>
Enhancements</h3>

<blockquote>Resolve differences in design between different platform versions.</blockquote>





</TD>

</TR>
<TR>

<TD COLSPAN="2" ALIGN="RIGHT" VALIGN="TOP">
<FONT SIZE="-1">
Copyright &copy; 1998-1999 The Mozilla Organization.
<BR>
<A HREF="http://www.mozilla.org/webtools/bonsai/cvslog.cgi?file=mozilla-org/html/editor/ui_specs/MiscDialogs.html&amp;rev=&amp;root=/cvsroot/">Last modified January 25,  1999</A>.
</FONT>
</TD>
</TR>

</TABLE>
</BODY>
</HTML>
