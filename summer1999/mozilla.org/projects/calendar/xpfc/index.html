<HTML>
<HEAD>
<TITLE>XPFC - Cross Platform Foundation Classes</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT=0 MARGINWIDTH=0>

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP ROWSPAN=2><IMG
SRC="../../../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH=600 HEIGHT=58 VSPACE=0 HSPACE=0></TD></TR></TABLE>
<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">

<TR>


<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>



<TD BGCOLOR="#DDDDDD" VALIGN=TOP><IMG ALT=""
SRC="../../../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP><IMG ALT=""
SRC="../../../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP ALIGN=RIGHT>
</TD>


<TD VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

</TR>


<TR>

<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP COLSPAN=2>

<TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../..//"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../mission.html"> Our Mission</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../about.html"> Who We Are</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../get-involved.html"> Getting Involved</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../community.html"> Community</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../advocacy.html"> Editorials</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../news.html"> What's New</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../newsbot/"> Newsbot</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../../development.html"><B> Development</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../blue-sky/"> Blue Sky</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../projects/"> Projects</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../status/"> Status</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../tools.html"> Tools</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../../products.html"><B> Products</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../source.html"> Source Code</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../binaries.html"> Binaries</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../docs/"> Documentation</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../NPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../bugs/"> Bug Reports</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../../quality/"> Quality</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../../search.html"><B> Search</B></A></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../../feedback.html"><B> Feedback</B></A></TD></TR>
</TABLE>
</TD>


<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP ALIGN=RIGHT>
</TD>


<TD VALIGN=TOP>



   



<H1>
<HR WIDTH="100%">XPFC - Cross Platform Foundation Classes</H1>

<A HREF="mailto:spider">Gregory Scallan</A><BR>
Initial Draft: August 30, 1998<BR>
Last Modification: August 30, 1998
<HR WIDTH="100%">
<H2>Contents</H2>


<UL>
<LI>
<A HREF="#Overview">Overview</A>

<LI>
<A HREF="#Design">Design</A>

<LI>
<A HREF="#Dependencies">Dependencies</A>

<LI>
<A HREF="#Architecture">Architecture</A>

<UL>
<LI>
<A HREF="#View">View</A>

<LI>
<A HREF="#Parser">Parser</A>

<LI>
<A HREF="#Layout">Layout</A>

<LI>
<A HREF="#Shell">Shell</A>

<LI>
<A HREF="#Model">Model</A>

<LI>
<A HREF="#Miscellaneous">Miscellaneous</A>
</UL>

<LI>
<A HREF="#Change">Change History</A>
</UL>

<HR WIDTH="100%">
<H2><A NAME="Overview"></A>Overview</H2>


<BLOCKQUOTE>The Cross Platform Foundation Classes (XPFC) are a set of interfaces
and underlying implementations for supporting applications in a platform-independent
manner with code reuse and modularity at the heart of its design.

<P><A HREF="resources.html">Information on how resources are defined is
here</A>.</BLOCKQUOTE>

<H2><A NAME="Design"></A>Design</H2>


<BLOCKQUOTE>The design of XPFC encompasses the following major features:
<UL>
<LI>
Platform Independence - currently running on Win95/98/NT, IRIX &amp; Linux.

<LI>
XML based user interface layout design

<LI>
XML based user interface widgets (dialogs, toolbars, menubars, buttons,
custom ui, etc...)

<LI>
Platform-independent Javascript &amp; RDF based localizeable resources

<LI>
Full UI definitions available via the internet

<LI>
MC support of all UI elements

<LI>
Application level downloadable widgets (ie toolbars, menubars, etc...)

<LI>
Command based widget communication, which supports multiple levels of Undo
throughout the UI

<LI>
Plugginable Layout Managers

<LI>
Embeddable component support (currently embeds HTML via raptor, and trex
calendar)

<LI>
Builtin TCP/IP protocol for remotely controlling dynamic UI content
</UL>
</BLOCKQUOTE>

<H2><A NAME="Dependencies"></A>Dependencies</H2>


<BLOCKQUOTE>XPFC has 'core' dependencies on the following modules:
<UL>
<LI>
XPCOM

<LI>
NSPR 2.0

<LI>
Base

<LI>
Gfx

<LI>
Widget

<LI>
XML Parser
</UL>
In addition, additionally functionality can be dynamically loaded with
dependencies on the following modules:
<UL>
<LI>
webshell (aka raptor)

<LI>
netlib

<LI>
libpref

<LI>
javascript
</UL>
</BLOCKQUOTE>

<H2><A NAME="Architecture"></A>Architecture</H2>


<BLOCKQUOTE>The following diagram depicts the general relationship of core
XPFC with other modules:

<P><IMG SRC="xpfc1.gif" HEIGHT=191 WIDTH=415> 
<BR><I><U>Figure 1: XPFC Module Relationship</U></I>

<P>Within XPFC, there are several subsystems which play a major role. Their
relationship is depicted in the following diagram:

<P><IMG SRC="xpfc2.gif" HEIGHT=256 WIDTH=512>
<BR><I><U>Figure 2: XPFC Subsystems</U></I>
<H3><A NAME="View"></A><B><U>View Subsystem</U></B></H3>


<BLOCKQUOTE>This system is comprised of all the visual runtime elements.
All visual elements are instances of the core Canvas class.&nbsp; This
class, which aggregates the nsIWidget interface, is the lowest level base
class that all system can expect to QueryInterface.

<P>Supporting Containers include Dialogs, Toolbars and Menubars. Supporting
widgets include those typically found in application toolbars and dialogs,
such as buttons and textfield. The widgets and containers aggregate the
Canvas implementation.&nbsp; Thus, <B>ALL</B> UI elements in the View Subsystem
Support the nsIWidget <B>AND</B> nsIXPFCCanvas interfaces.

<P><IMG SRC="xpfc3.gif" HEIGHT=480 WIDTH=600>

<P>&nbsp;</BLOCKQUOTE>

<H3><A NAME="Layout"></A><B><U>Layout Subsystem</U></B></H3>


<BLOCKQUOTE>This system is comprised objects that know how to lay out Canvas's.
Currently, X/Y Box layout is the only implementation.&nbsp; Table layout
is possible, and width modifications to the Parser Subsystem, the raptor
Layout engine could be used here.</BLOCKQUOTE>

<H3><A NAME="Parser"></A><B><U>Parser Subsystem</U></B></H3>


<BLOCKQUOTE>This system is comprised of both the XML DTD for XPFC and the
ContentSink for the View Subsystem.&nbsp; The raptor xml parser is used
for the majority of this system.</BLOCKQUOTE>

<H3><A NAME="Shell"></A><B><U>Shell Subsystem</U></B></H3>


<BLOCKQUOTE>This system is is the entry point for your main application,
written as XP code. It offers the toplevel event loop, as well as application
level services.</BLOCKQUOTE>

<H3><A NAME="Model"></A><B><U>Model Subsystem</U></B></H3>


<BLOCKQUOTE>This system offers access to predefined runtime definitions
of tokenized XML. Multiple UI definitions and parts can be loaded into
memory and be referenced by the View subsystem for display.</BLOCKQUOTE>

<H3><A NAME="Miscellaneous"></A><B><U>Miscellaneous</U></B></H3>


<BLOCKQUOTE>There are a variety of supporting classes in XPFC:
<OL>
<LI>
<B>ObserverManager</B>: For supporting Subjetc/Observer interfaces

<LI>
<B>CanvasManager</B>: For managing the relationships between canvas'

<LI>
<B>Command System</B>: For supporting arbitrary command passing between
objects for multiple levels of Undo

<LI>
<B>Toolkit</B>: The global object accessor

<LI>
<B>Utility</B>:&nbsp; For stacks, vectors and iterators
</OL>
</BLOCKQUOTE>
</BLOCKQUOTE>

<H2><A NAME="Change"></A>Change History</H2>


<TABLE BORDER COLS=3 WIDTH="100%" >
 <TR BGCOLOR="#3333FF">
  <TD><B>Who</B></TD>
  <TD><B>When</B></TD>
  <TD><B>What</B></TD>
 </TR>
 <TR>
  <TD>spider</TD>
  <TD>8/30/98</TD>
  <TD>Initial Document</TD>
 </TR>
</TABLE>

<BLOCKQUOTE>&nbsp;</BLOCKQUOTE>





</TD>


<TD VALIGN=TOP ALIGN=RIGHT>
</TD>


<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

</TR>


<TR>


<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM><IMG ALT=""
SRC="../../../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=BOTTOM COLSPAN=2><IMG ALT=""
SRC="../../../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>
</TR>

<TR BGCOLOR="#000000">

<TD BGCOLOR="#000000" COLSPAN=5><BR></TD>

<TD BGCOLOR="#000000" VALIGN=TOP>

<FONT COLOR="#AAAAAA" SIZE="-1">
Copyright &copy; 1998-1999 The Mozilla Organization.
</FONT>

</TD>

<TD BGCOLOR="#000000" COLSPAN=2><BR></TD>
</TR>

</TABLE>
</BODY>
</HTML>
