<HTML>
<HEAD>
<TITLE>Localizing Mozilla</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT="0" MARGINWIDTH="0">

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" ALT="" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP><IMG
SRC="../../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH="600" HEIGHT="58" VSPACE="0" HSPACE="0"></TD></TR></TABLE>

<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">


<TR>


<TD VALIGN="TOP" >
<TABLE BORDER="0" ><TR><TD BGCOLOR="#000000" VALIGN="TOP">
<TABLE BORDER="0" CELLSPACING="3"><TR><TD BGCOLOR="#DDDDDD" VALIGN="TOP">
<TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD NOWRAP COLSPAN=2><A HREF="../.././"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../mozorg.html"> At A Glance</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../feedback.html"> Feedback</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../get-involved.html"> Get Involved</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../community.html"> Newsgroups</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../MPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://www.mozilla.org/newsbot/"> Newsbot</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../docs/"><B> Developer Docs</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../projects/"> Projects</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../ports/"> Ports</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../hacking/"> Hacking</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../source.html"> Get the Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../build/"> Build It</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../quality/"><B> Testing</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../binaries.html"> Download</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../bugs/"> Bugzilla</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../quality/bug-writing-guidelines.html"> Bug Writing</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../tools.html"><B> Tools</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://lxr.mozilla.org/seamonkey/"> View Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://tinderbox.mozilla.org/showbuilds.cgi?tree=SeaMonkey"> Tree Status</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://cvs-mirror.mozilla.org/webtools/bonsai/cvsquery.cgi?treeid=default&amp;module=SeaMonkeyAll&amp;branch=HEAD&amp;branchtype=match&amp;dir=&amp;file=&amp;filetype=match&amp;who=&amp;whotype=match&amp;sortby=Date&amp;hours=2&amp;date=day&amp;mindate=&amp;maxdate=&amp;cvsroot=%2Fcvsroot"> New Checkins</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://bugzilla.mozilla.org/"> Submit A Bug</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../faq.html"><B> FAQ</B></A></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="http://www.mozilla.org/search.html"><B> Search</B></A></TD></TR>
</TABLE>
</TD></TR></TABLE>
</TD></TR></TABLE>
</TD>


<TD VALIGN="TOP">




   
   
   ">
   
   



<center>
<h1>
Localizing Mozilla</h1></center>

<center>by <i><a href="mailto:tao@netscape.com">Tao Cheng&lt;tao@netscapce.com></a></i></center>

<p><br>
<h2>
Document History</h2>

<ul>
<li>
11/10/99: Add partial translation for <a href="#mlp">Thai</a>. Also, updated
Danish pack status.</li>

<li>
10/29/99: <a href="#mlp">MLP</a>: add Thai and Czech contacts</li>

<li>
10/18/99: add <a href="#refs">References and more information...</a> section.</li>

<li>
10/15/99: Add <a href="#langpacks">table</a> to summarize the current contributions.
<a href="#tools">Add</a>
link to Jordi and Henrik's tools.</li>

<li>
10/01/99: Minor corrections</li>

<li>
09/27/99: Add <a href="#FAQ">FAQ</a> section.</li>

<li>
09/23/99: First draft.</li>
</ul>

<h2>
Goal</h2>
The purpose of this documentation is to give a brief introduction of how
to localize the Mozilla browser client so that the reader does not need
to go through a lengthy document just to localize Mozilla into their favorite
languages.
<br>&nbsp;
<h2>
<a NAME="what2loc"></a>What needs to be localized</h2>
In Mozilla, all UI resources are located in the "chrome/" directory of
the install directory. Localizable files are placed under "packageType/locale/locale_name"
directories where "packageType" is one of the UI components such as the
"addressbook", "bookmarks", "navigator", etc...&nbsp; and "locale_name"
is the language into which Mozilla is localized.
<p>There are three types of files that need to be localized in Mozilla:
<ol>
<li>
<a NAME="dtdFile"></a>The DTD (*.dtd) files. This <a href="http://www.mozilla.org/projects/intl/xul-l10n.html#pro1">document</a>
explains our strategy of localizing XUL files. A typical DTD file contains
a list of entities that need to be localized. An entity declaration looks
like this:</li>

<br>&nbsp;
<ol>&lt;!ENTITY browserCmd.label "<font color="#FF0000">New Browser Window</font>"></ol>

<p><br>The entity with name/key, "browserCmd.label", has the entity value,
"<font color="#FF0000">New Browser Window</font><font color="#000000">".
The entity value is what needs to be localized. Note the entity name, "</font>browserCmd.label",
is self-explanatory: it's the label string of the "browserCmd" menu item.
The XUL writers or Localization engineers also try to include as many comments
as possible in the DTD files. Such comments are placed right above the
entity declaration and are marked as
<br>&nbsp;
<ol>&lt;!-- LOCALIZATION NOTE&nbsp; entity_name: comments --></ol>

<p><br>For example,
<br>&nbsp;
<ol>&nbsp; <a href="http://lxr.mozilla.org/mozilla/source/xpfe/browser/resources/locale/en-US/navigator.dtd#8">8</a>
&lt;!-- LOCALIZATION NOTE&nbsp; throbber.url: Do NOT localize all the URL
-->
<br>&nbsp; 9 &lt;!ENTITY throbber.url "http://www.mozilla.org"></ol>

<p><br>Note that, <i><font color="#FF0000">UTF-8</font> </i>is the default
document encoding for XUL/RDF/XML files in Mozilla. Translated strings
shall be in UTF-8 encoding unless otherwise indicated in the text declaration
section. Native encodings such as EUC, SJIS, and others can be converted
into UTF-8 by a utility program, nsconv(.exe) shipped with the client in
the same directory as apprunner(.exe). The usage:
<br>&nbsp;
<ol>nsconv -f source_encoding -t target_necoding source_file target_file</ol>

<li>
<a NAME="proFiles"></a>The Property (*.properties) files. Property files
are used as the data storage for the <a href="http://www.mozilla.org/projects/intl/string-resources.html">String
Resources </a>bundle mechanism. String resources in property files appear
in the form of</li>

<br>&nbsp;
<ol>name=<font color="#FF0000">value</font></ol>

<p><br><font color="#000000">The "</font><font color="#FF0000">value</font><font color="#000000">"
part is what needs to be localized. Localization notes are also added where
necessary. For example,</font>
<br>&nbsp;
<ol><font color="#000000">&nbsp;<a href="http://lxr.mozilla.org/mozilla/source/xpinstall/res/locale/en-US/xpinstall.properties#25">25</a>
#-----------------------------------------------------------</font>
<br><font color="#000000">&nbsp;26 #&nbsp;&nbsp; </font>LOCALIZATION NOTE&nbsp;
InstallFile:...
<br><font color="#000000">&nbsp;27 #-----------------------------------------------------------</font>
<br><font color="#000000">&nbsp;28 InstallFile=Installing: %s</font>
<br><font color="#000000">&nbsp;29 ReplaceFile=Replacing: %s</font></ol>

<p><br><font color="#000000">Please note that "escape-unicode" is the only
accepted document encoding in property files. You can use your favorite
encoding during translation and convert it to escape-unicode via the "native2ascii"
utility program available on most Unix systems. Java SDK also includes
"native2ascii". In addition, nsconv(.exe) mentioned earlier can be used
to convert native encoding to escape unicode. For escaped-unicode, use
the name "x-u-escaped".</font>
<br>&nbsp;
<li>
<a NAME="chromreg"></a><font color="#000000">The chrome registry, "chrome/registry.rdf".
Localized files for a package type shall be placed under the associated
"locale_name" subdirectory. In order for the Mozilla client to pick up
the localized files, the name entries (in-between &lt;name>...&lt;/name>)
in the chrome registry must be replaced with the "locale_name". (10/29/99)
Please </font><font color="#FF0000">note</font><font color="#000000"> that
the registry file and the implementation of the Configurable Chrome is
under re-architecturing. New way of configurating the chrome registry will
be posted after it is settled. In the mean time, you can localize the files
in the "en-US" directories and re-locate them later on.</font></li>
</ol>

<h2>
<a NAME="tools"></a>Localization/Leveraging&nbsp; Tools</h2>
Localization tools contributed from the net:
<br>&nbsp;
<table BORDER WIDTH="100%" NOSAVE >
<tr NOSAVE>
<td>Tool Name</td>

<td NOSAVE>Description</td>

<td>Features</td>

<td>Contact</td>

<td>The Package</td>

<td>Source Directory</td>
</tr>

<tr>
<td>mozexptool</td>

<td>See "The Package" column</td>

<td>See "The Package" column</td>

<td>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="mailto:jmas@softcatala.org">Jordi
Mas</a></td>

<td>&nbsp;<a href="http://www.rebost.net/mozexptool/">http://www.rebost.net/mozexptool/</a></td>

<td>&nbsp;<a href="http://lxr.mozilla.org/mozilla/source/l10n/tools/mozexptool">mozexptool
source</a></td>
</tr>

<tr>
<td>MozillaTranslator</td>

<td>See "The Package" column</td>

<td>See "The Package" column</td>

<td>&nbsp; <a href="mailto:Lynggaard@netscape.net">Henrik Lynggaard&nbsp;</a></td>

<td>&nbsp;<a href="http://sites.netscape.net/lynggaard/">http://sites.netscape.net/lynggaard/</a></td>

<td>&nbsp;<a href="http://lxr.mozilla.org/mozilla/source/l10n/tools/mozillatranslator">MozillaTranslator</a></td>
</tr>
</table>

<h2>
<a NAME="mlp"></a>Mozilla Localization Project (MLP)</h2>
This <a href="http://www.mozilla.org/docs/l10n/l10n-projects.html">page</a>
explains how you can contribute your localization work to Mozilla and the
current status of the Mozilla Localization Project.
<p><a NAME="langpacks"></a>The following table summarizes the current contributions
of Mozilla (5.0) localization. Contact the original contributors or <a href="mailto: Tao Cheng<tao@netscape.com>">Tao
Cheng</a> if you have problems using these language packs.
<br>&nbsp;
<table BORDER WIDTH="100%" NOSAVE >
<tr>
<td>Languages (locale name)</td>

<td>Contributor(s)</td>

<td>Localized Build or Language Packs</td>

<td>Reference Build (ID/Date)</td>

<td>Notes</td>
</tr>

<tr>
<td>Bosnian (bosnian-BA)</td>

<td>&nbsp;<a href="mailto:Adnan Selimovic <a.selimovic@qssbh.com>">Adnan
Selimovic</a> , <a href="mailto:Isan Selimovic<i.selimovic@qssbh.com>">Isan
Selimovic</a> , <a href="mailto:Jasmin Azemovic <jasmin.a@bih.net.ba>">Jasmin
Azemovic</a></td>

<td><a href="ftp://ftp-public.soros.org.ba/pub/qss/mozilla-win32.zip">mozilla-win32.zip</a>
or
<br><a href="bosnian.zip">bosnian.zip</a></td>

<td>199907614&nbsp;</td>

<td>
<ol>
<li>
&nbsp;<a href="#note2">mozilla-win32.zip&nbsp;</a>&nbsp;</li>

<li>
<a href="#note3">bosnian.zip</a>&nbsp;</li>

<li>
&nbsp;<a href="#note_ba">Note from Adnan</a>&nbsp;</li>
</ol>
</td>
</tr>

<tr>
<td>Czech</td>

<td>&nbsp;<a href="mailto: Jan Pokorny<pokorny@svkhk.cz>">Jan Pokorny</a></td>

<td></td>

<td></td>

<td>Started</td>
</tr>

<tr>
<td>Danish (da-DK)</td>

<td>&nbsp;<a href="mailto:Lynggaard@netscape.net">Henrik Lynggaard</a></td>

<td>&nbsp;<a href="dkChrome_1999090808.zip">Danish language pack</a></td>

<td>1999090808 (plan to bring it up to 19991215)</td>

<td>&nbsp;<a href="#note4">The zip file.</a></td>
</tr>

<tr>
<td>Thai</td>

<td>&nbsp;<a href="mailto:Isiya Paireepairit<markpeak@SoftHome.net>">Isiya
Paireepairit</a></td>

<td>&nbsp;<a href="moz-th_1999100618_m10.zip">Thai Navigator language pack</a></td>

<td>1999100618 (M10)</td>

<td>Partial translations for Navigator windows only.</td>
</tr>
</table>

<p><i>Notes</i>
<ol>
<li>
The language packs are portable across platforms.</li>

<li>
<a NAME="note2"></a><a href="ftp://ftp-public.soros.org.ba/pub/qss/mozilla-win32.zip">mozilla-win32.zip&nbsp;</a>
contains the Mozilla executable, English language files, and Bosnian language
files. By default, the UI language is in Bosnian.</li>

<li>
&nbsp;<a NAME="note3"></a> <a href="bosnian.zip">bosnian.zip</a> contains
only the language files needed for Bosnian. You need to unzip them into
chrome/ directory and change all "en-US" name entries to "da-DK" in chrome/registry.rdf
to pick up these UI strings.</li>

<li>
&nbsp;<a NAME="note_ba"></a>Used only ASCII characters in bosnian-BA DTD
files, because by the time of M8.5 some windows crashed when special UNICODE
characters were used. I wanted that Mozilla runs as good as possible, so
I converted all our special characters into ASCII ones. This method is
used allot here. To display our characters people must have PANEURO version
of Windows 9x or NT. Our software is mostly without this special characters.
Plan to change this for the next release.</li>

<li>
&nbsp;<a NAME="note4"></a>This zip file contains only the language files
needed for Danish. You need to unzip them into chrome/ directory and change
all "en-US" name entries to "da-DK" in chrome/registry.rdf to pick up these
UI strings.</li>
</ol>

<h2>
<a NAME="cvsaccess"></a>Getting Access Privilege to the tree</h2>
Localization contributors and translators will need CVS access privilege
to check in localization work into Mozilla. Here is the link to the page
that describes the tree rules and how to obtain a CVS account .
<blockquote>&nbsp;<a href="http://www.mozilla.org/hacking/">http://www.mozilla.org/hacking/</a></blockquote>
To accommodate localization related files but avoid breaking the build
process of other modules, there will be a dedicated directory, "l10n/",
created under the top directory of the Mozilla tree, "mozilla/". See next
section for details.
<br>&nbsp;
<h2>
<a NAME="l10ndir"></a>The Directory structure for Localization related
work</h2>
The following tree structure is proposed to accommodate all localization
related work in the Mozilla tree.
<ol>
<li>
<b>The directory structure.</b> Share the CVS repository with the Mozilla
tree but place localization related files under separate directory. Tague
Griffith recently created a new directory, "l10n/" to accommodate the open
source L10n tools contributed from the net. The tools will be checked in
under a subdirectory, "l10n/tools/". We can have the language specific
files placed under a subdirectory, "l10n/lang/", in parallel with the tools.
And then there is another sub-directory, "l10n/builds", which accommodates
various build related files.&nbsp; The directory structure looks like this:</li>

<br>&nbsp;
<p>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<p><b>mozilla/</b>
<ol>[other modules]
<br>[...]
<br><b>l10n</b>/
<ol>tools/
<ol>mozexptool/
<br>mozillatranslator/
<br>etc...</ol>
<b>lang</b>/
<ol>addressbook/locale/
<ol>
<ol>
<ol><b>bosnian-BA/</b>
<br>da-DK/
<br>da-DK-vendor1
<br>ja-JP-vendor1
<br>ja-JP-vendor2
<br>etc...</ol>
</ol>
</ol>
bookmarks/locale/
<ol>
<ol>
<ol><b>bosnian-BA</b>/
<br>da-DK/
<br>da-DK-vendor1/
<br>ja-JP-vendor1
<br>ja-JP-vendor2
<br>etc...</ol>
</ol>
</ol>
[other package types, etc...]</ol>
builds/
<ol>[release team's stuff]</ol>
</ol>
</ol>

<li>
<b>Pulling the tree.</b> The current Mozilla build process does not pull
"l10n/". Therefore, other module developers will not pull "l10n/" unless
they explicitly do so. This addresses the concern about tree pulling time
and wasted disk space problems. However, during the development cycle,
we still have the choice of making the pulling of l10n/ be the default.</li>

<br>&nbsp;
<li>
<b>The build script. </b>The build script of the localized client can be
setup to be part of the daily build or run as a standalone script.</li>
</ol>
The advantages of this approach follow.
<ul>
<li>
Since l10n is not part of the daily Mozilla build pull, localization checkins
(under "mozilla/l10n") are not restricted by the Tinderbox rules and therefore
are not on the hook.</li>

<br>&nbsp;
<li>
Net developers can be granted access privilege and work on the open source
tree directly.</li>
</ul>
Note that this by no means encourages people to abuse the "mozilla/l10n"
directory. All CVS checkin rules still apply. Courtesy to peer contributors
and respect for module ownership is required in the open source community.
<br>&nbsp;
<h2>
<a NAME="refs"></a>References and more information...</h2>

<ul>
<li>
For Mozilla localization related issues: <a href="news://news.mozilla.org/netscape.public.mozilla.l10n">Mozilla
Localization newsgroup</a>.</li>

<li>
&nbsp;<a href="http://www.mozilla.org/projects/intl/xul-styleguide.html">XUL
coding style guidelines</a></li>

<li>
&nbsp;<a href="http://www.mozilla.org/projects/intl/xul-l10n.html">XUL
localizability issues</a></li>
</ul>

<h2>
<a NAME="FAQ"></a>FAQ of MLP</h2>

<ul>
<li>
<b>What license statement, ULP, NPL, or MPL , shall be inserted into the
translated resource files such *.dtd and *.properties?</b></li>

<br>&nbsp;
<p>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<p>"The contents of this file are subject to the Netscape Public License
Version 1.1 (the "License"); you may not use this file except in compliance
with the License. You may obtain a copy of the License at
<a href="http://www.mozilla.org/NPL/">http://www.mozilla.org/NPL/</a>
<p>Software distributed under the License is distributed on an "AS IS"
basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
License for the specific language governing rights and limitations under
the License.
<p>The Original Code is Mozilla Communicator client code, released March
31, 1998.
<p>The Initial Developer of the Original Code is Netscape Communications
Corporation. Portions created by Netscape are Copyright (C) 1998-1999 Netscape
Communications Corporation. All Rights Reserved.
<p>Contributor(s): ____________________________________."
<ul>&nbsp;</ul>

<li>
<b>Into what languages will the Netscape branded version be localized?</b></li>

<ul>&nbsp;</ul>
Netscape branded version will be localized at least into German, French
and Japanese. Future plans for other languages will be announced at Netscape's
discretion.
<ul>&nbsp;</ul>

<li>
<b>Is Netscape going to release localization work in Netscape branded version
to the open source tree, Mozilla? How about OEMs'?</b></li>

<ul>&nbsp;</ul>
Netscape localized files will be posted into mozilla in the languages that
we localize as we have them available.
<ul>&nbsp;</ul>

<li>
<b>Will we incorporate the contributed translations into the Netscape branded
version?</b></li>

<ul>&nbsp;</ul>
Currently, Netscape and it's partners are producing the language versions
we need to support its business strategies. If those strategies change,
Netscape may choose to look to the work being done on mozilla.org.
<br>&nbsp;
<li>
<b>How do we deal with conflicts such as Mozilla version vs Netscape version
of the same languages?</b></li>

<ul>&nbsp;</ul>
Mozilla and Netscape branded product will be two different products; open
source developers can have their localized files checked into mozilla tree
without conflicting with Netscape branded product.</ul>

<br>&nbsp;




</TD>

</TR>
<TR>

<TD COLSPAN="2" ALIGN="RIGHT" VALIGN="TOP">
<FONT SIZE="-1">
Copyright &copy; 1998-1999 The Mozilla Organization.
<BR>
<A HREF="http://www.mozilla.org/webtools/bonsai/cvslog.cgi?file=mozilla-org/html/projects/intl/xul-how2l10n.html&amp;rev=&amp;root=/cvsroot/">Last modified November 10,  1999</A>.
</FONT>
</TD>
</TR>

</TABLE>
</BODY>
</HTML>
