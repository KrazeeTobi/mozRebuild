<HTML>
<HEAD>
<TITLE>JavaScript Test Library</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT=0 MARGINWIDTH=0>

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP ROWSPAN=2><IMG
SRC="../../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH=600 HEIGHT=58 VSPACE=0 HSPACE=0></TD></TR></TABLE>
<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">

<TR>


<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>



<TD BGCOLOR="#DDDDDD" VALIGN=TOP><IMG ALT=""
SRC="../../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP><IMG ALT=""
SRC="../../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP ALIGN=RIGHT>
</TD>


<TD VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

</TR>


<TR>

<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP COLSPAN=2>

<TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../..//"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../mission.html"> Our Mission</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../about.html"> Who We Are</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../get-involved.html"> Getting Involved</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../community.html"> Community</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../advocacy.html"> Editorials</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../news.html"> What's New</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../newsbot/"> Newsbot</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../development.html"><B> Development</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../blue-sky/"> Blue Sky</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../projects/"> Projects</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../status/"> Status</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../tools.html"> Tools</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../products.html"><B> Products</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../source.html"> Source Code</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../binaries.html"> Binaries</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../docs/"> Documentation</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../NPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../bugs/"> Bug Reports</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../quality/"> Quality</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../search.html"><B> Search</B></A></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../feedback.html"><B> Feedback</B></A></TD></TR>
</TABLE>
</TD>


<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP ALIGN=RIGHT>
</TD>


<TD VALIGN=TOP>






<h1>JavaScript Test Library</h1>

<p>
The <a href="http://www.mozilla.org/js/">JavaScript</a> team maintains a
library of tests that are based on the
<a href="ftp://ftp.ecma.ch/ecma-st/e262-pdf.pdf">ECMA-262</a> standard for
web scripting languages and other documentation for JavaScript.
</p>

<p>
If you find a bug in the core JavaScript engine, you can now contribute a
test to our library.  Your tests will be used to reproduce bugs, verify bug
fixes, prevent regressions, and improve the stability of the JavaScript
engine.
</p>

<p>
If you are contributing code to the JavaScript engine, you can use
the tests to verify that the engine still works correctly before checking in.
</p>

<h2>What's covered by the JavaScript tests?</h2>

<p>
The JavaScript tests cover the functionality of the core JavaScript engine.
This includes the following JavaScript objects:
</p>
<table>
    <tr>
    <td>
    <li> Arrays </li>
    <li> Booleans </li>
    <li> Dates </li>

    </td>
    <td>
    <li> Functions </li>
    <li> Global Object </li>
    <li> Math </li>
    </td>
    <td>
    <li> Numbers  </li>
    <li> Objects</li>
    <li> Regular Expressions </li>
    <li> Strings </li>
    </td>
</table>

<p>
Additionally, the JavaScript tests cover parsing, lexical conventions,
expressions, statements, type conversion, and exception handling.  See the
<a href="ftp://ftp.ecma.ch/ecma-st/e262-pdf.pdf">current standard</a>, or the
current
<a href="http://www2.hursley.ibm.com/tc39/">working draft</a> of the revised
standard if you have questions about what is part of core JavaScript.
</p>

<p>
We also have tests for <a href="http://www.mozilla.org/oji">LiveConnect</a>.
We will post more information on those tests soon.
</p>

<h2>What's not covered by the JavaScript tests?</h2>

<p>
Tests must not refer to any objects that are not part of core JavaScript.
This is because the tests are run not only against the JavaScript engine in
the browser, but also against the stand-alone JavaScript engines.
</p>

<p>
Because the tests are not always run in the browser, it is important that
you not refer to any objects that are part of the browser or DOM.  For example,
you must not refer to the following objects, or methods or properties of the
following objects:
</p>

<ul>
    <li>    navigator
    </li>
    <li>    window
    </li>
    <li>    document
    </li>
    <li>    layer
    </li>
    <li>    form elements
    </li>
</ul>

<p>
If you would like to write tests that cover DOM objects, talk to the
people at <a href="news://news.mozilla.org/netscape.public.mozilla.qa.general">
netscape.public.mozilla.qa.general</a>, or see the
<a href="http://www.mozilla.org/quality">quality assurance group's page</a>.
You should also check out the
<a href="http://www.mozilla.org/newlayout/">NGLayout project</a>'s page on
<a href="http://www.mozilla.org/newlayout/getinvolved.html">how you can help</a>.
</p>

<h2>Which areas should I write tests for?</h2>
<p>
If you would like to contribute tests to the library, please contact
<a href="mailto:christine@netscape.com?subject=I'd like to contribute to the JavaScript Test Library!">
the coordinator</a>.
</p>

<p>
We would really appreciate it if you wrote tests that demonstrate any bugs you find in
the JavaScript engine.  Providing a test will make sure that we can reproduce
the bug, and will make sure that there won't be regressions.
</P>

<p>
Additionally, one area in which our test coverage somewhat lags behind
implementation is functionality in ECMA-262 Version 2 that is new or changed
since Version 1.  <a href="http://www2.hursley.ibm.com/tc39/v2status.htm">Version
2 document status</a> shows what has changed or is new since version 1.
</p>

<p>
It would probably be better if you write tests for areas whose content has
already been accepted by the working group.  Otherwise, the test will have to
be updated if the content changes.
</p>

<p>
Currently, the new, accepted functionality includes regular expressions and
closure objects.
</p>

<h2>Where are the JavaScript tests?</h2>
<p>
The tests that are currently available on mozilla.org are checked into
<a href="http://lxr.mozilla.org/mozilla/source/js/tests/">mozilla/js/tests</a>.
You must <a href="http://www.mozilla.org/cvs.html">check them out</a>
explicitly -- they are not automatically checked out when you check out
the mozilla source code.
</p>

<p>
See the instructions on <a href="http://www.mozilla.org/cvs.html">checking
out source code</a> for how to set up your CVSROOT and log in.  To check
out the tests, the command is
<p>
<b><tt>
&nbsp;&nbsp;&nbsp;cvs -z3 checkout mozilla/js/tests
</tt></b>
</p>

<h2>How do I write a JavaScript test?</h2>
<p>
Follow the format of the
<a href="http://lxr.mozilla.org/mozilla/source/js/tests/template.js">template</a>.
Basically, you need to comment the test so that we know what you're testing;
set some variables so that the test driver can figure out what you're testing;
and then add some test cases.
</p>

<p>
Each test case has three parts:  a string representation of what you are
testing, the expected result, and the actual
result.  You can write functions to generate the test cases, or you can hard-code
all the test data.  The structure of the test is up to you.  Check out some of the
<a href="http://lxr.mozilla.org/mozilla/source/js/tests/">existing tests</a> for
examples.
</p>

<h2>How do I run the JavaScript tests?</h2>
<p>
To run an individual test in the JavaScript shell:
<ol>
<li> Check out the JavaScript source, and <a href=
    "http://lxr.mozilla.org/mozilla/source/js/src/README.html">build the JavaScript shell</a>.
<li> Start the JavaScript shell.
    <br>
    <code>
    % <b>js</b>
    <br>js>
    </code>
    </li>
<li> Load the <a href="http://lxr.mozilla.org/mozilla/source/js/tests/ecma/shell.js">
    shared functions file</a>:
    <br>
    <code>
    js&gt load("d:/mozilla/js/tests/ecma/shell.js")
    </code>
    </li>
<li> Load the test file.  The test should execute and display results.
    <br>
    <code>
    js&gt load("d:/mozilla/js/tests/ecma/Expressions/11.1.1.js")
    </code>
</ol>
</p>

<p>
There's also a perl script called
<a href="http://lxr.mozilla.org/mozilla/source/js/tests/runtests.pl">
runtests.pl</a> that will run all the tests for you.  To use runtests.pl, you must
have Perl 5 installed on your system.
</p>

<p>
<ol>
<li>    Check out the JavaScript source, and <a href=
        "http://lxr.mozilla.org/mozilla/source/js/src/README.html">
        build the JavaScript shell</a>.
<li>    Set your <TT>MOZ_SRC</TT> environment variable to the directory where
        you've checked out and built the JavaScript shell.
<li>    Run runtests.pl.
<li>    For command line options, at the command prompt, type
        <br>
        <code>
        % <b>runtests.pl --h</b>
        </code>
</ol>
</p>

To run the tests in the browser:
<ol>
<li>    Execute
        <a href="http://lxr.mozilla.org/mozilla/source/js/tests/mkhtml.pl">
        mkhtml.pl</a>, a perl script that generates an HTML file for each test
        file.</li>
<li>    Build apprunner.exe. </li>
<li>    View the generated HTML pages in apprunner.  The tests should execute
        and display results.
</ol>
</p>

<p>
We do have a real test driver for the JavaScript tests; currently, we are not
able to post this on mozilla.org.  I hope this will change in the future.
</p>


<h2>Resources</h2>
<ul>
<li>    <a href="http://lxr.mozilla.org/mozilla/source/js/tests">Test source</a>
</li>
<li>    <a href="news://news.mozilla.org/netscape.public.mozilla.jseng">JavaScript newsgroup</a>
</li>
<li>    <a href="http://www.mozilla.org/js">JavaScript page</a>
</li>
<li>    <a href="ftp://ftp.ecma.ch/ecma-st/e262-pdf.pdf">ECMA-262</a> standard
</li>
</ul>

<hr>

<p>
<i><a href="mailto:christine@netscape.com">Christine Begle</a></i>
</p>





</TD>


<TD VALIGN=TOP ALIGN=RIGHT>
</TD>


<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

</TR>


<TR>


<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM><IMG ALT=""
SRC="../../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=BOTTOM COLSPAN=2><IMG ALT=""
SRC="../../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>
</TR>

<TR BGCOLOR="#000000">

<TD BGCOLOR="#000000" COLSPAN=5><BR></TD>

<TD BGCOLOR="#000000" VALIGN=TOP>

<FONT COLOR="#AAAAAA" SIZE="-1">
Copyright &copy; 1998-1999 The Mozilla Organization.
</FONT>

</TD>

<TD BGCOLOR="#000000" COLSPAN=2><BR></TD>
</TR>

</TABLE>
</BODY>
</HTML>
