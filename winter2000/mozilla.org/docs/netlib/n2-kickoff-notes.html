<HTML>
<HEAD>
<TITLE>Project N2: Kickoff notes</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT="0" MARGINWIDTH="0">

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" ALT="" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP><IMG
SRC="../../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH="600" HEIGHT="58" VSPACE="0" HSPACE="0"></TD></TR></TABLE>

<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">


<TR>


<TD VALIGN="TOP" >
<TABLE BORDER="0" ><TR><TD BGCOLOR="#000000" VALIGN="TOP">
<TABLE BORDER="0" CELLSPACING="3"><TR><TD BGCOLOR="#DDDDDD" VALIGN="TOP">
<TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD NOWRAP COLSPAN=2><A HREF="../.././"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../mozorg.html"> At A Glance</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../feedback.html"> Feedback</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../get-involved.html"> Get Involved</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../community.html"> Newsgroups</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../MPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://www.mozilla.org/newsbot/"> Newsbot</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../docs/"><B> Developer Docs</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../projects/"> Projects</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../ports/"> Ports</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../hacking/"> Hacking</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../source.html"> Get the Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../build/"> Build It</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../quality/"><B> Testing</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../binaries.html"> Download</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../bugs/"> Bugzilla</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../quality/bug-writing-guidelines.html"> Bug Writing</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../tools.html"><B> Tools</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://lxr.mozilla.org/seamonkey/"> View Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://tinderbox.mozilla.org/showbuilds.cgi?tree=SeaMonkey"> Tree Status</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://cvs-mirror.mozilla.org/webtools/bonsai/cvsquery.cgi?treeid=default&amp;module=SeaMonkeyAll&amp;branch=HEAD&amp;branchtype=match&amp;dir=&amp;file=&amp;filetype=match&amp;who=&amp;whotype=match&amp;sortby=Date&amp;hours=2&amp;date=day&amp;mindate=&amp;maxdate=&amp;cvsroot=%2Fcvsroot"> New Checkins</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://bugzilla.mozilla.org/"> Submit A Bug</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../faq.html"><B> FAQ</B></A></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="http://www.mozilla.org/search.html"><B> Search</B></A></TD></TR>
</TABLE>
</TD></TR></TABLE>
</TD></TR></TABLE>
</TD>


<TD VALIGN="TOP">




   


<H2>N2 Kickoff meeting notes.</H2>
Here are Suresh Duddi's notes of the kickoff meeting for project N2. N2 aims to clean up Netlib of its old dead code and make things work faster better. As a part of the meeting several key areas were identified that needed attention.  
<h4>
Components of Netlib</h4>
<ol>
<li>
Converters: decoders, stream converters</li>
<li>
Core Scheduling, DNS, Socket</li>
<li>
Cache</li>
<li>
Protocols</li>
<li>
Streams</li>
<li>
URL Maintenance</li>
<li>
Threading</li>
<li>
Cookies</li>
</ol>
<h4>
Issues from dp's email</h4>
<ul>
<li>
IURL has too much in it</li>
<li>
There needs to be a unified stream interface and that should be the primary
channel of communication across converters, protocols, cache.</li>
<li>
How do converters kick in.</li>
<li>
what are the components of netlib/ Would cache and converters be part of
it or outside it.</li>
<li>
Pluggable protocol interfaces.</li>
<li>
how should the cache plug in.</li>
</ul>
<h4>
Rick Potts presentation of modular netlib work ........</h4>
<ul>
<li>
nsIURL</li>
<li>
nsNetServices</li>
<ul>
<li>
URLConnection</li>
<li>
Cookie</li>
<li>
Proxy</li>
<li>
Interrupt</li>
</ul>
<li>
Converters are registered for mimetype conversion without notion of presentation
type or command. Viewers will be registered for commands.</li>
</ul>
<h4>
Goals for the N2 effort</h4>
<ol>
<li>
Remove MODULAR_NETLIB #define</li>
<li>
Remove url_s</li>
<li>
Remove MWContext</li>
<li>
Converters</li>
<ol>
<li>
Pull converter/decoder out of core netlib into a separate service.</li>
<li>
Add a despatch layer on top of core netlib that does converter chaining
and data despatching</li>
</ol>
<li>
Streams</li>
<ol>
<li>
Unify all streams.</li>
<li>
Convenience functions for listeners and streams</li>
<li>
Convenience functions for {MIMEType, viewer/Command} -> OutputStream</li>
<li>
All streams have a base interface nsIInterface</li>
<li>
Input and output streams dont have to match. Maybe they have to. Deal with
it later.</li>
<li>
Output stream will be passed into a converter</li>
<li>
<b><i>How headers are stored and where ?</i></b></li>
<li>
<b><i>How to handle Multi-part ? need to look. Check on how headers are
handled.</i></b></li>
</ol>
<li>
Protocols</li>
<ol>
<li>
Protocol Manager: For creating managing multiple protocols</li>
<li>
Existence of Protocol Manager opaque to protocols. Protocol Manager is
a netlib core internal.</li>
<li>
Set of interfaces needs to be exposed to 3rd party protocol developers.
Expose interfaces to sockets and netlib core.</li>
<li>
Connection Manager for instanstiation of a protocol. You ask Protocol Manager
for a connection manager.</li>
<li>
Implement nsITransport and nsISocketTransport for communication betn protocols
and core netlib.</li>
<li>
<b><i>How do we pass back bytes read and max bytes. Progress ?</i></b></li>
</ol>
</ol>
<h4>
Architecture diagram of Netlib</h4>
<p><br><img SRC="roughsketch.jpg" height=374 width=588>




</TD>

</TR>
<TR>

<TD COLSPAN="2" ALIGN="RIGHT" VALIGN="TOP">
<FONT SIZE="-1">
Copyright &copy; 1998-2000 The Mozilla Organization.
<BR>
<A HREF="http://www.mozilla.org/webtools/bonsai/cvslog.cgi?file=mozilla-org/html/docs/netlib/n2-kickoff-notes.html&amp;rev=&amp;root=/cvsroot/">Last modified January 23,  1999</A>.
</FONT>
</TD>
</TR>

</TABLE>
</BODY>
</HTML>
