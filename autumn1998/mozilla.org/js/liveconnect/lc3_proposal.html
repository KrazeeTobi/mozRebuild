<HTML>
<HEAD>
<TITLE>LiveConnect Release 3 Goals/Features</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT=0 MARGINWIDTH=0>

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP ROWSPAN=2><IMG
SRC="../../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH=600 HEIGHT=58 VSPACE=0 HSPACE=0></TD></TR></TABLE>
<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR>


<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=TOP><IMG ALT=""
SRC="../../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP ROWSPAN=2>

<BR><TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../..//"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../mission.html"> Our Mission</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../about.html"> Who We Are</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../get-involved.html"> Getting Involved</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../community.html"> Community</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../advocacy.html"> Editorials</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../news.html"> What's New</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../development.html"><B> Development</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../blue-sky/"> Blue Sky</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../projects.html"> Projects</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../status/"> Status</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../tools.html"> Tools</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../products.html"><B> Products</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../source.html"> Source Code</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../binaries.html"> Binaries</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../docs/"> Documentation</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../NPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../../bugs/"> Bug Reports</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../search"><B> Search</B></A></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../../feedback.html"><B> Feedback</B></A></TD></TR>
</TABLE><BR>

</TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD VALIGN=TOP><IMG ALT=""
SRC="../../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP ROWSPAN=2>
<P><BR>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">


   
   



<CENTER>
<H1>
LiveConnect Version 3 Goals</H1></CENTER>
&nbsp;
<TABLE BORDER >
<TR BGCOLOR="#DDDDDD">
<TH ROWSPAN="2" WIDTH="20%">
<CENTER><B><FONT SIZE=+2>Task/Feature</FONT></B>
<BR><B><FONT SIZE=-1>(listed in decreasing</FONT></B>
<BR><B><FONT SIZE=-1>order of importance)</FONT></B></CENTER>
</TH>

<TD ROWSPAN="2">
<CENTER><B><FONT SIZE=+2>Details</FONT></B></CENTER>
</TD>

<TD>
<CENTER><B><FONT SIZE=+2>Duration</FONT></B></CENTER>
</TD>
</TR>

<TR>
<TD BGCOLOR="#DDDDDD">
<CENTER><B><FONT SIZE=+2>Percent complete</FONT></B></CENTER>
</TD>
</TR>

<TR>
<TD>
<CENTER>Thread-safety</CENTER>
</TD>

<TD>The LC2 release of LiveConnect is not completely thread-safe.&nbsp;
(Original applications, such as OJI, did not demand strict thread-safety,
so it was not a top priority for LC2.)&nbsp; In the future,
thread-safety will be a requirement.&nbsp; Right now there are a bunch of placeholder
<TT>THREADSAFETY</TT>
comments in the LC2 code.&nbsp;</TD>

<TD>
<CENTER>7 days
<P>50%</CENTER>
</TD>
</TR>

<TR>
<TD>
<CENTER>Rhino compatibility</CENTER>
</TD>

<TD>Rhino (JavaScript-in-Java) and LC2 behavior diverge in subtle ways,
particularly in the area of error-handling.&nbsp; Both Rhino and LC2 should
be modified so that a single set of tests can be used for both versions
of LiveConnect.</TD>

<TD>
<CENTER>4 days ???
<P>0%</CENTER>
</TD>
</TR>

<TR>
<TD>
<CENTER>Convergence with OJI LiveConnect</CENTER>
</TD>

<TD>The OJI project has made modifications to the LiveConnect APIs to adapt
it for their needs and placed the result in a separate directory.&nbsp;
The sources need to be merged into a single codebase.&nbsp;</TD>

<TD>
<CENTER>3 days
<P>80 %</CENTER>
</TD>
</TR>

<TR>
<TD>
<CENTER>Predictable overloaded
<BR>method resolution</CENTER>
</TD>

<TD>When more than one overloaded Java method is compatible with the number
and types of arguments in an invocation from JS, the choice of Java method
is made arbitrarily, by using the first one enumerated by the Java reflection
APIs.&nbsp; Unfortunately, the ordering of methods when enumerating is
not governed by any specification, so differences between JVM vendors can
lead to inconsistencies in LiveConnect behavior.&nbsp;
<P>Instead, we will define a <A HREF=lc3_method_overloading.html>JVM-independent set of rules</A> to choose among
overloaded Java methods.</TD>

<TD>
<CENTER>10 days
<P>0 %</CENTER>
</TD>
</TR>

<TR>
<TD>
<CENTER>Explicit overloaded
<BR>method resolution</CENTER>
</TD>

<TD>The weak correspondence between the JS language typing system and Java's
results in ambiguity and/or shadowing when resolving among overloaded Java
methods, e.g. JS's number type can map to any of Java's floating-point
or integral types: byte, char, short, int, long, float, double.&nbsp;
<P>We need a way to bypass the method overload resolution process and explicitly
specify the method to be invoked.&nbsp; Norris suggested this syntax:&nbsp;
<P><TT><FONT SIZE=-1>myPrintMethod = java.io.PrintStream["print(double)"];</FONT></TT>
<BR><TT><FONT SIZE=-1>myPrintMethod(13);</FONT></TT>
<BR>&nbsp;</TD>

<TD>
<CENTER>2 days
<P>0 %</CENTER>
</TD>
</TR>

<TR>
<TD>
<CENTER>Invocation of Java static methods using a Java instance</CENTER>
</TD>

<TD>The Java language allows static methods to be invoked using either
the class name or a reference to an instance of the class, but current
versions of LiveConnect allow only the former.</TD>

<TD>
<CENTER>1 day
<P>0%</CENTER>
</TD>
</TR>

<TR>
<TD>
<CENTER><I>java.lang.String</I> objects "inherit"
<BR>JS string methods</CENTER>
</TD>

<TD>In current versions of LiveConnect, it is necessary to convert Java
Strings to JS strings before using them as the receivers of JS string methods,
typically by appending an empty string to the Java string, e.g.
<P><TT><FONT SIZE=-1>s = new java.lang.String("foo")</FONT></TT>
<BR><TT><FONT SIZE=-1>s = s + "";&nbsp; // s is now a JS string</FONT></TT>
<BR><TT><FONT SIZE=-1>s.replace("o", "bar")</FONT></TT>
<P>The goal is to eliminate the requirement for explicit conversion to
a JS string by treating <I>java.lang.String</I> objects as a special case
that "inherit" all the methods of JS strings, i.e. so that the second statement
in the example above becomes superfluous.&nbsp;
<BR>&nbsp;</TD>

<TD>
<CENTER>1 day
<P>0%</CENTER>
</TD>
</TR>

<TR>
<TD>
<CENTER>JavaArray objects "inherit"
<BR>JS array methods</CENTER>
</TD>

<TD>The JS Array functions are intentionally generic, so it should be possible
to apply JS array utility methods such as reverse() and join() on JavaArray
objects.</TD>

<TD>
<CENTER>1 day
<P>0%</CENTER>
</TD>
</TR>

<TR>
<TD ROWSPAN="2">
<CENTER>Support for new
<BR>JS language features</CENTER>
</TD>

<TD>Add support for <TT>instanceof</TT> and <TT>in</TT> additions to ECMA&nbsp;
language.</TD>

<TD>
<CENTER>1 day
<P>50 %</CENTER>
</TD>
</TR>

<TR>
<TD>Java exceptions converted to JS exceptions.&nbsp; Uncaught exceptions
propagated to Java callers, i.e. when Java calls JS calls Java. <I>Mike
Shaver is responsible for this work.</I></TD>

<TD>
<CENTER>2 days
<P>50%</CENTER>
</TD>
</TR>

<TR>
<TD>Performance tuning</TD>

<TD>Some JS consumers have requested that we spend some time characterizing
the multithreaded performance of LC and possibly spend time tuning it.&nbsp;
There is also some concern about reducing the impact of the barrier synchronization&nbsp;
imposed by JavaScript GC on multithreaded apps.</TD>

<TD>
<CENTER>??? (Potentially,
<BR>a lot of time)<BR>
<BR>
0 %</CENTER>
</TD>
</TR>
</TABLE>





<P><BR>
</TD>


<TD VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

</TR>
<TR>


<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM><IMG ALT=""
SRC="../../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD VALIGN=BOTTOM><IMG ALT=""
SRC="../../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>
</TR>

<TR>

<TD BGCOLOR="#000000" COLSPAN=6><BR></TD>

<TD BGCOLOR="#000000" VALIGN=TOP>

<FONT COLOR="#AAAAAA" SIZE="-1">
Copyright &copy; 1998 The Mozilla Organization.
</FONT>
</FONT>
</TD>

<TD BGCOLOR="#000000" COLSPAN=2><BR></TD>
</TR>

</TABLE>
<P>
</BODY>
</HTML>
