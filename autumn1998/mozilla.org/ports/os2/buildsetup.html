<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<TITLE>How to setup a build environment</TITLE>

</HEAD>

<BODY BGCOLOR="#ffffff" BACKGROUND="newpaper.gif">

<table width=180 align=left>
<tr>
<td width=135>

<center>
<strong>
<a href=index.html>Main Page</a>
<p>
<a href=news.html>News</a>
<p>
<a href=download.html>Download</a>
<p>
<a href=developer.html>Developers' Inn</a>
<p>
<a href=links.html>Links</a>
</strong>
</center>

</td>
</tr>
</table>

<TABLE BORDER=0 CELLPADDING=2 CELLSPACING=2>
	<TR>
		<TD>


<P ALIGN=CENTER><FONT SIZE=5><B>Setup of a build environment</B></FONT></P>
<P>
Before you can actually compile any part of the Warpzilla source code, you
need to carefully setup your environment. Mozilla's birth was on the Un*x
platform and so its source code relies on many tools that are only common in
the Un*x world.
</P>
<P>
<P ALIGN=CENTER><FONT SIZE=4><B>Compiler</B></FONT></P>
<P>
The first thing you need is a compiler. The Warpzilla team decided to maintain
the port for two popular compilers. On the one hand is the leading commercial
product <strong>IBM Visual Age for C++ Version 3.0</strong> and on the other hand the free
<strong>GNU gcc powered by EMX</strong>.
</P>
<P>
Both compilers can be used to compile the sources, so there is no recommendation
which product to use. If you decide to use the IBM compiler, be sure to apply
the latest set of product fixes (FixPak 8 which is already included if you buy
the now available version 3.08). Without the fixes, it cannot access the object
files generated by Un*x style tools.
<P>

<ul>
<li><strong>IBM VisualAge for C++ Version 3.0</strong><p>
Available from your favourite IBM Dealer. For more information, take a look at
the <a href="http://www.software.ibm.com/ad/visualage_c++">web site</a>.<p>
The required fixes can be obtained from the <a href="ftp://ftp.software.ibm.com/ps/products/visualagecpp/fixes/v30os2/english-us/fixpak8">IBM FTP Server</a>.<p>
<li><strong>emx/gcc version 0.9c</strong><p>
You can download this compiler either from <a href="ftp://hobbes.nmsu.edu/pub/os2/dev/emx/0.9c">Hobbes (USA)</a> or <a href="ftp://ftp.leo.org/pub/comp/os/os2/leo/devtools/emx+gcc">LEO (Germany)</a>.
</ul>
<P>


<P ALIGN=CENTER><FONT SIZE=4><B>GNU Tools for OS/2</B></FONT></P>

Even if you don't use the GNU compiler, you still need a set of GNU tools
because the Warpzilla makefiles rely on Un*x-like tools.
<p>
<ul>
<li><a href="ftp://hobbes.nmsu.edu/pub/os2/unix/dev/gnumake.zip">GNU Make Utility</a><p>
This is used to build Warpzilla. Even if you own Visual Age C++, you have to use
GMAKE.<br>
<strong>New:</strong> Note that there are currently problems with GMAKE 3.76.1 so be sure to use the older version 3.75 until the issues have been cleared!<p>
<li><a href="ftp://hobbes.nmsu.edu/pub/os2/unix/util/gnusutil.zip">GNU Utilities</a><p>
Several GNU utilities that are invoked by the makefile.<p>
<li><a href="ftp://hobbes.nmsu.edu/pub/os2/util/shell/bash-2.0-b264.zip">GNU Bash</a><p>
The most popular Un*x shell (GNU Bourne Again Shell).<p>
<li><a href="ftp://ftp.leo.org/pub/comp/os/os2/leo/systools/gnu/gnufutil.zip">More GNU Utilities</a><p>
These Un*x utilities are needed by GBASH.<p>
<li><a href="ftp://ftp.leo.org/pub/comp/os/os2/leo/systools/gnu/gnututil.zip">Even More GNU Utilities</a><p>
This package contains another required GNU utility.<p>
<li><a href="ftp://hobbes.nmsu.edu/pub/os2/unix/dev/gnuawk.zip">GNU AWK</a><p>
The build process also requires awk.<p>
<li><a href="ftp://ftp.leo.org/pub/comp/os/os2/leo/systools/gnu/gnused.zip">GNU sed</a><p>
The GNU sed utility is used somewhere in the build process.<p>
<li><a href="cvs.exe">CVS</a><p>
This is used to to access the mozilla source repository at www.mozilla.org. You
can also download the <a href="ftp://ftp.leo.org/pub/comp/os/os2/leo/gnu/devtools/cvs1928.zip">whole package</a> (3meg).
</ul>

<P ALIGN=CENTER><FONT SIZE=4><B>Installation and Configuration</B></FONT></P>

After you have installed one or both compilers and all required tools
have been downloaded, you have to configure your build environment first.
We assume that you install everything apart from the compilers into the
directory <strong>X:\Warpzilla</strong>.<br>
Create a directory <strong>X:\Warpzilla\tools</strong> that will hold all
the required tools. Also, create a subdirectory <b>X:\Warpzilla\tools\home</b>
that will hold some configuration files.
<ul>
<li>Extract <strong>make-os2.exe</strong> from the archive <strong>gnumake.zip</strong>
into the tools directory and rename it to <strong>gmake.exe</strong>.
<li>The archive <strong>gnusutil.zip</strong> contains a subdirectory <strong>exe</strong>
from which you extract <strong>uname.exe</strong> and <b>gnushu.dll</b> to the tools directory.
<li>The files <strong>bash.exe</strong> and <b>termcap.dat</b>from <strong>bash-2.0-b264.zip</strong>
should be copied to the tools directory and renamed to <strong>gbash.exe</strong>.
Also, put <b>.bashos2</b>, <b>.bashrc</b> and <b>.inputrc</b> from the home-subdirectory
of the bash archive into <b>\tools\home</b>.
<li>From <b>gnufutil.zip</b>, copy <b>mkdir.exe</b>, <b>rm.exe</b>,
<b>cp.exe</b>, <b>mv.exe</b> and <b>chmod.exe</b> to the tools directory.
<li>From the archive <strong>gnuawk.zip</strong>, take the file <strong>
gawk32.exe</strong> and extract it to the tools directory. Rename the file
to <strong>awk.exe</strong>.
<li>Copy <b>cvs.exe</b> to the tools subdirectory.
<li>Extract <b>cat.exe</b> from <b>gnututil.zip</b> and place into to tools directory.
<li><b>sed.exe</b> from <b>gnused.zip</b> also has to reside in the tools subdirectory.
</ul>

Now you have to create a command file that sets up some environment variable and
adjusts the PATH and LIBPATH. Call it Warpzilla.cmd and put in into X:\Warpzilla.
It may look like the following, if you have installed everything in X:\Warpzilla:
<p>
<a href="warpzilla.cmd">warpzilla.cmd</a>
<p>
Now you have to create a command file that updates your source tree against
the OS2_BRANCH of the www.mozilla.org CVS server:
<p>
<a href="checkout.cmd">checkout.cmd</a>
<p>
Whenever you call this file and you have an internet connection established,
your code directory will be updated with the latest changes from the official
Warpzilla repository. Note that you cannot directly submit your changes to the
code repository!
<p>


</P>

		</TD>
	</TR>
</TABLE>

</BODY>
</HTML>