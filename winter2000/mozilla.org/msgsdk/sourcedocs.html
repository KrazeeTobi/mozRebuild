<HTML>
<HEAD>
<TITLE>Netscape Messaging SDK Source Code documentation</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT="0" MARGINWIDTH="0">

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" ALT="" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP><IMG
SRC="../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH="600" HEIGHT="58" VSPACE="0" HSPACE="0"></TD></TR></TABLE>

<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">


<TR>


<TD VALIGN="TOP" >
<TABLE BORDER="0" ><TR><TD BGCOLOR="#000000" VALIGN="TOP">
<TABLE BORDER="0" CELLSPACING="3"><TR><TD BGCOLOR="#DDDDDD" VALIGN="TOP">
<TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD NOWRAP COLSPAN=2><A HREF=".././"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../mozorg.html"> At A Glance</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../feedback.html"> Feedback</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../get-involved.html"> Get Involved</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../community.html"> Newsgroups</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../MPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://www.mozilla.org/newsbot/"> Newsbot</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../docs/"><B> Developer Docs</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../projects/"> Projects</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../ports/"> Ports</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../hacking/"> Hacking</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../source.html"> Get the Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../build/"> Build It</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../quality/"><B> Testing</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../binaries.html"> Download</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../bugs/"> Bugzilla</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../quality/bug-writing-guidelines.html"> Bug Writing</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../tools.html"><B> Tools</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://lxr.mozilla.org/seamonkey/"> View Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://tinderbox.mozilla.org/showbuilds.cgi?tree=SeaMonkey"> Tree Status</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://cvs-mirror.mozilla.org/webtools/bonsai/cvsquery.cgi?treeid=default&amp;module=SeaMonkeyAll&amp;branch=HEAD&amp;branchtype=match&amp;dir=&amp;file=&amp;filetype=match&amp;who=&amp;whotype=match&amp;sortby=Date&amp;hours=2&amp;date=day&amp;mindate=&amp;maxdate=&amp;cvsroot=%2Fcvsroot"> New Checkins</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://bugzilla.mozilla.org/"> Submit A Bug</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../faq.html"><B> FAQ</B></A></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="http://www.mozilla.org/search.html"><B> Search</B></A></TD></TR>
</TABLE>
</TD></TR></TABLE>
</TD></TR></TABLE>
</TD>


<TD VALIGN="TOP">






<CENTER><B><FONT SIZE=+1>Netscape Messaging Access SDK: Source Code Documentation</FONT>
</B></CENTER>
<CENTER>&lt;<A HREF="mailto:prasad@netscape.com">prasad@netscape.com</A>></CENTER>

<CENTER><FONT SIZE=-2>Last Updated: Aug 25, 1998</FONT></CENTER>

<HR NOSHADE SIZE=1>
<H3>
Contents</H3>

<UL>
<LI>
<A HREF="#overview">Overview</A></LI>

<LI>
<A HREF="#Ctree">Roadmap of C SDK Sources</A></LI>

<LI>
<A HREF="#Jtree">Roadmap of Java SDK Sources</A></LI>
</UL>
<A NAME="overview"></A>
<H3>
Overview</H3>
The source code for the Messaging Access SDK consists of the sources for
the C SDK and the sources for the Java SDK. This document describes the
source tree organization and the contents of each file for both Java and
C sides of the SDK. It also addresses other issues related to the source
tree as needed.

<P>At the top level, the source code for the Netscape Messaging Access
SDK is organized as shown below: <PRE>
	mozilla/
 	   msgsdk/
	      C/
	      java/
	      CONFIG/
</PRE>
As shown above, at the msgsdk root the SDK source tree contains two sub-directories
named <B>C</B> and <B>java</B> that contain the sources for the C and Java
sides of the SDK respectively. The Makefile at this level is common to
both Java and C sides and builds either Java or C side of the SDK based
on the build target specified. Please see the <A HREF="buildsdk.html">build
instructions</A> for further details.

<P>The CONFIG directory that is also at the top level contains the configuration
file <B><I>msgsdk.mk</I></B> and the companion <B><I>getarch</I></B> file.
These files are also common to both java and C sides of the SDK and contain
platform specific definitions. These files contain the needed definitions
for several platforms already. You can add the definitions for other platforms
as needed. Please see the <A HREF="buildsdk.html">build instructions</A>
for further details.

<P><A NAME="Ctree"></A>
<H3>
Roadmap of C SDK Sources</H3>
The C SDK comprises of the libraries libcomm, libmime, libsmtp, libpop3
and libimap4. The libcomm library contains the low-level socket I/O routines
and the streaming API routines. Other libraries contain corresponding protocol
API routines as indicated by the name of the library.
<P> The source code for the C SDK is organized in the following directories: <PRE>
	mozilla/
 	   msgsdk/
 	      C/
	        include/ 	// Common include files to the C SDK
	        src/ 		// Sources for the libcomm library
	        protocol/ 	// Root for all protocol API sources
	 	  MIME/ 	// MIME protocol API sub directory
		     include/   // MIME include files
		     src/ 	// MIME src files
		  SMTP/ 	// SMTP protocol API sub directory
		     include/ 	// SMTP include files
		     src/ 	// SMTP src file
		  POP3/ 	// POP3 protocol API sub directory
		     include/ 	// POP3 include files
		     src/ 	// POP3 src file
		  IMAP4/ 	// IMAP4 protocol API sub directory
		     include/ 	// IMAP4 include files
		     src/ 	// IMAP4 src file
</PRE>
Below we give a brief description of contents of each file. Please refer
to the comments at the beginning of each source file for complete details.

<P>The <A HREF="http://lxr.mozilla.org/mozilla/source/msgsdk/C/include/"> 
mozilla/msgsdk/C/include</A> directory contains the following files:
<UL>
<LI>
nsmail.h          - common definitions for all libraries</CODE></LI>

<LI>
nsStream.h 	- definitions for the streaming API</LI>

<LI>
nsio.h 		- definitions for the i/o routines</LI>

<LI>
nssocket.h 	- platform dependent socket i/o definitions</LI>
</UL>
<P>The <A HREF="http://lxr.mozilla.org/mozilla/source/msgsdk/C/src/"> 
mozilla/msgsdk/C/src</A> directory contains the following files:
<UL>
<LI>
nsStream.c
- streaming API routines</LI>

<LI>
nsio.c
- platform independent messaging SDK i/o routines</LI>

<LI>
nssocket.c
- platform dependent socket i/o wrapper routines</LI>
</UL>
NOTE: If you would like to port the libcomm library to other platforms
you will need to modify nssocket.[ch] files.

<P>The <A HREF="http://lxr.mozilla.org/mozilla/source/msgsdk/C/protocol/MIME/include/"> 
mozilla/msgsdk/C/protocol/MIME/include</A> directory contains the following files:
<UL>
<LI>
mime.h
- MIME encoder and exposed API definitions</LI>

<LI>
mimeparser.h
- MIME parser definitions</LI>

<LI>
mime_internal.h
- internal MIME definitions</LI>

<LI>
mimeparser_internal.h - internal definitions specific
to the parser</LI>

<LI>
util.h
- definitions for the common utility routines</LI>

<LI>
vector.h
- definitions for vector routines used by the parser</LI>
</UL>
<P>The <A HREF="http://lxr.mozilla.org/mozilla/source/msgsdk/C/protocol/MIME/src/"> 
mozilla/msgsdk/C/protocol/MIME/src</A> directory contains the following files:
<UL>
<LI>
mime.c
- MIME encoder and parser/encoder common routines</LI>

<LI>
mimeparser.c
- MIME parser routines</LI>

<LI>
mime_internal.c
- common internal routines</LI>

<LI>
mimeDataSink.c
- MIME DataSink routines</LI>

<LI>
util.c
- utility routines</LI>

<LI>
vector.c
- vector routines used by the parser</LI>
</UL>
<P>The <A HREF="http://lxr.mozilla.org/mozilla/source/msgsdk/C/protocol/SMTP/include/"> 
mozilla/msgsdk/C/protocol/SMTP/include</A> directory contains the following files:
<UL>
<LI>
smtp.h
- Exposed SMTP API definitions</LI>

<LI>
smtppriv.h
- Internal SMTP definitions</LI>
</UL>
The <A HREF="http://lxr.mozilla.org/mozilla/source/msgsdk/C/protocol/SMTP/src/"> 
mozilla/msgsdk/C/protocol/SMTP/src</A> directory contains the following file:
<UL>
<LI>
smtp.c
- The SMTP API implementation.</LI>
</UL>
The <A HREF="http://lxr.mozilla.org/mozilla/source/msgsdk/C/protocol/POP3/include/"> 
mozilla/msgsdk/C/protocol/POP3/include</A> directory contains the following files:
<UL>
<LI>
pop3.h
- Exposed POP3 API definitions</LI>

<LI>
prop3priv.h
- Internal POP3 definitions</LI>
</UL>
The <A HREF="http://lxr.mozilla.org/mozilla/source/msgsdk/C/protocol/POP3/src/"> 
mozilla/msgsdk/C/protocol/POP3/src</A> directory contains the following file:
<UL>
<LI>
pop3.c
- POP3 API implementation</LI>
</UL>
The <A HREF="http://lxr.mozilla.org/mozilla/source/msgsdk/C/protocol/IMAP4/include/"> 
mozilla/msgsdk/C/protocol/IMAP4/include</A> directory contains the following files:
<UL>
<LI>
imap4.h
- Exposed IMAP4 API definitions</LI>

<LI>
imapdata.h
- Internal IMAP4 data structure definitions</LI>
</UL>
The <A HREF="http://lxr.mozilla.org/mozilla/source/msgsdk/C/protocol/IMAP4/src/"> 
mozilla/msgsdk/C/protocol/IMAP4/src</A> directory contains the following file:
<UL>
<LI>
imap4.c
- IMAP4 API implementation</LI>
</UL>
NOTE: Please note that most of the directories above have an example or
test sub directory that contains test or example programs for the corresponding
API. These are not explicitly listed above to avoid cluttering up the main
source tree description.

<P><A NAME="Jtree"></A>
<H3>
Roadmap of Java SDK Sources</H3>
The Java SDK comprises of the class libraries for MIME, SMTP, POP3,
IMAP4 and the Convenience APIs. The SDK includes several support classes
for low level i/o and byte buffer handling.

<P>The source code for the Java SDK is organized in the following directories: <PRE>
	mozilla/
 	   msgsdk/
 	      java/
		highlevel/ 	// Convenience (highlevel) API subdir
 		    src/ 	// Convenience API src files
 		protocol/ 	// Root for all protocol API sources
 		    Messaging/ 	// Sub directory for common i/o routines
			src/ 	// Messaging (common/io) src files
		     MIME/ 	// MIME protocol API sub directory
			src/ 	// MIME src files
		     SMTP/ 	// SMTP protocol API sub directory
			src/ 	// SMTP src files
		     POP3/ 	// POP3 protocol API sub directory
			src/ 	// POP3 src files
		     IMAP4/ 	// IMAP4 protocol API sub directory
			src/ 	// IMAP4 src files
</PRE>

<P>Below we give a brief description of contents of each file. Please refer
to the javadocs and comments at the beginning of each source file
for complete details.

<P>The <U>mozilla/msgsdk/java/highlevel/src</U> directory contains
the following files:
<UL>
<LI>
IMTransport.java
- Implementation of IMTransport class</LI>

<LI>
IMAttachment.java
- Implementation of IMAttachment class</LI>

<LI>
IMSendThr.java
- Utility class to do message transfer in a separate thread</LI>

<LI>
IMException.java
- Exception class for the convenience API</LI>
</UL>
The <A HREF="http://lxr.mozilla.org/mozilla/source/msgsdk/java/protocol/Messaging/src"> 
mozilla/msgsdk/java/protocol/Messaging/src</A> directory contains the following files:
<UL>
<LI>
Common.java
- Helper class that implements utiltity routines for IO class</LI>

<LI>
IO.java
- Encapsulates low level IO / sockect functionality</LI>
</UL>
The <A HREF="http://lxr.mozilla.org/mozilla/source/msgsdk/java/protocol/MIME/src"> 
mozilla/msgsdk/java/protocol/MIME/src</A> directory contains the following files:
<UL>
<LI>
MIMEMessage.java
- Implements the MIMEMessage class</LI>

<LI>
MIMEBodyPart.java
- Abstract base class for all MIME bodypart types</LI>

<LI>
MIMEBasicPart.java
- Implements basic / leaf parts of a MIME message</LI>

<LI>
MIMEMultiPart.java
- Implements the MIMEMultiPart class</LI>

<LI>
MIMEMessagePart.java - Implements the
MIMEMessagePart class</LI>

<LI>
Header.java
- Implements MIME / RFC822 headers</LI>

<LI>
ByteBuffer.java
- Implements a ByteBuffer (similar to StringBuffer)</LI>

<LI>
MIMEHelper.java
- Implements encoder, decoder and other helper routines</LI>

<LI>
fileMIMEType.java
- Filenames to MIME types mapper class</LI>

<LI>
MIMEParser.java
- Implements the MIMEParser</LI>

<LI>
MIMEDynamicParser.java - Implements the MIMEDynamic Parser</LI>

<LI>
MIMEDataSink.java
- Abstract class that defines data sink for dynamic parser</LI>

<LI>
MIMEException.java
- Implements MIMEException</LI>
</UL>
The <A HREF="http://lxr.mozilla.org/mozilla/source/msgsdk/java/protocol/SMTP/src"> 
mozilla/msgsdk/java/protocol/SMTP/src</A> directory contains the following files:
<UL>
<LI>
SMTPClient.java
- Class that implements the SMTP API</LI>

<LI>
ISMTPSink.java
- Interface definition for the SMTP protocol sink</LI>

<LI>
SMTPSink.java
- A default (null body) implementation of ISMTPSink</LI>

<LI>
SMTPException.java
- Implements the SMTPException</LI>
</UL>
The <A HREF="http://lxr.mozilla.org/mozilla/source/msgsdk/java/protocol/POP3/src"> 
mozilla/msgsdk/java/protocol/POP3/src</A> directory contains the following files:
<UL>
<LI>
POP3Client.java
- Class that implements the POP3 API</LI>

<LI>
IPOP3Sink.java
- Interface definition for the POP3 protocol sink</LI>

<LI>
POP3Sink.java
- A default (null body) implementation of IPOP3Sink</LI>

<LI>
POP3Exception.java
- Implements the POP3Exception</LI>
</UL>
The <A HREF="http://lxr.mozilla.org/mozilla/source/msgsdk/java/protocol/IMAP4/src"> 
mozilla/msgsdk/java/protocol/IMAP4/src</A> directory contains the following files:
<UL>
<LI>
IMAP4Client.java
- Class that implements the IMAP4 API</LI>

<LI>
IIMAP4Sink.java
- Interface definition for the POP3 protocol sink</LI>

<LI>
IMAP4Sink.java
- A default (null body) implementation of IIMAP4Sink</LI>

<LI>
IMAP4Exception.java - Implements the
IMAP4Exception</LI>

<LI>
IGlobals.java
- Contains definition of Global constants for this API</LI>

<LI>
Dispatcher.java
- Parses responses and dispatches to right callback in sink</LI>

<LI>
SystemPreferences.java - Class that handles preferences
like block-size, time-out etc.</LI>
</UL>
NOTE: Please note that most of the directories above have an example or
test sub directory that contains test or example programs for the corresponding
API. These are not explicitly listed above to avoid cluttering up the main
source tree description.

<P>
<HR NOSHADE SIZE=1>
<CENTER><FONT SIZE=-2>Copyright &copy; 1998 <A HREF="http://home.netscape.com/misc/contact_info.html" TARGET="_top">Netscape
Communications Corporation</A></FONT></CENTER>





</TD>

</TR>
<TR>

<TD COLSPAN="2" ALIGN="RIGHT" VALIGN="TOP">
<FONT SIZE="-1">
Copyright &copy; 1998-2000 The Mozilla Organization.
<BR>
<A HREF="http://www.mozilla.org/webtools/bonsai/cvslog.cgi?file=mozilla-org/html/msgsdk/sourcedocs.html&amp;rev=&amp;root=/cvsroot/">Last modified March 10,  1999</A>.
</FONT>
</TD>
</TR>

</TABLE>
</BODY>
</HTML>
