<HTML>
<HEAD>
<TITLE>RDF and Z39.50</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT="0" MARGINWIDTH="0">

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" ALT="" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP><IMG
SRC="../../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH="600" HEIGHT="58" VSPACE="0" HSPACE="0"></TD></TR></TABLE>

<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">


<TR>


<TD VALIGN="TOP" >
<TABLE BORDER="0" ><TR><TD BGCOLOR="#000000" VALIGN="TOP">
<TABLE BORDER="0" CELLSPACING="3"><TR><TD BGCOLOR="#DDDDDD" VALIGN="TOP">
<TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD NOWRAP COLSPAN=2><A HREF="../.././"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../mozorg.html"> At A Glance</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../feedback.html"> Feedback</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../get-involved.html"> Get Involved</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../community.html"> Newsgroups</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../MPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://www.mozilla.org/newsbot/"> Newsbot</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../docs/"><B> Developer Docs</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../projects/"> Projects</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../ports/"> Ports</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../hacking/"> Hacking</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../source.html"> Get the Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../build/"> Build It</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../quality/"><B> Testing</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../binaries.html"> Download</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../bugs/"> Bugzilla</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="../../quality/bug-writing-guidelines.html"> Bug Writing</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../tools.html"><B> Tools</B></A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://lxr.mozilla.org/seamonkey/"> View Source</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://tinderbox.mozilla.org/showbuilds.cgi?tree=SeaMonkey"> Tree Status</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://cvs-mirror.mozilla.org/webtools/bonsai/cvsquery.cgi?treeid=default&amp;module=SeaMonkeyAll&amp;branch=HEAD&amp;branchtype=match&amp;dir=&amp;file=&amp;filetype=match&amp;who=&amp;whotype=match&amp;sortby=Date&amp;hours=2&amp;date=day&amp;mindate=&amp;maxdate=&amp;cvsroot=%2Fcvsroot"> New Checkins</A></TD></TR>
<TR><TD></TD><TD NOWRAP><A HREF="http://bugzilla.mozilla.org/"> Submit A Bug</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=3 - 1><B></B></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="../../faq.html"><B> FAQ</B></A></TD></TR>
<TR><TD NOWRAP COLSPAN=2><A HREF="http://www.mozilla.org/search.html"><B> Search</B></A></TD></TR>
</TABLE>
</TD></TR></TABLE>
</TD></TR></TABLE>
</TD>


<TD VALIGN="TOP">






<center>
<h1>Mozilla RDF / Z39.50 Integration Project</h1>
</center>

Contacts:<br>
<SMALL>
<a href="mailto:daniel.brickley@bristol.ac.uk">Dan Brickley</A> (daniel.brickley@bristol.ac.uk)<BR>
<a href="mailto:rden@loc.gov">Ray Denenberg</A> <A HREF="http://lcweb.loc.gov/z3950/agency/">Z39.50 Maintainance Agency</A>, Library of Congress (rden@loc.gov)<BR>
<a href="mailto:echristi@usgs.gov">Eliot Christian</A> <A HREF="http://www.gils.net/">GILS initiative</A>, (echristi@usgs.gov)<BR>
<a href="mailto:quinn@indexdata.dk">Sebastian Hammer</A> <A
HREF="http://www.indexdata.dk/">Index Data</A> (quinn@indexdata.dk)<BR>
<a href="mailto:waterson@netscape.com">Chris Waterson</a> (waterson@netscape.com)<br>

</SMALL>
<BR>

<P>This is a project to investigate the integration of Z39.50 search
capabilities with Mozilla's RDF-based information
management environment.</P>

<H2>Aims</H2>

<UL>
<LI>Make Z39.50 data sources accessible for searching from within Mozilla</LI>
<LI>Find an RDF representation of Z39.50 attribute sets</LI>
</UL>

<P>
There are thousands of networked Z39.50 servers in existence already.
It should be possible to identify some mechanism whereby the Mozilla user
interface allows people to send queries to these servers and have the
resulting records appear within the standard Mozilla bookmarks/sitemaps
interface.
</P>

<H2>Z39.50 Background</H2>

<P>
ANSI/NISO Z39.50 is a communications protocol for information retrieval in
a client/server environment. Widely used in bibliographic and digital
library applications, Z39.50 represents a significant body of experience
relating to bibliographic data retrieval and the specification of
interoperable semantics for community-specific metadata attribute sets.
The Z39.50 Integration Project outlined here is intended to identify
appropriate mechanisms that will allow us to exploit Z39.50 data sources 
and metadata attribute sets from within Mozilla's RDF-based '<A
HREF="aurora.html">Aurora</A>' environment.
</P>


<H2>Getting Started</H2>

<P>This page is intended to provide a useful set of resources from which
contributors from the Z39.50, RDF and Mozilla communities can make a start
on addressing common problems.  Z39.50 can be rather complex for those
unfamiliar with the protocol, but there are many developers out there who
have considerable experience in this area. What we really need is a good
introductory document aimed at outside contributors wanting to hack new
functionality into Mozilla in the most sensible way possible. Some of the
docs linked from the <A HREF="index.html">Mozilla
RDF pages</A> make a start in this direction. A good way to get started is
simply to <A HREF="../../binaries.html">download</A> one
of the early-release copies of Mozilla and take a look at the way it
works.</P>

<H3>For Z39.50 developers unfamiliar with Mozilla...</H3>
<P>
If you understand Z39.50, you'll probably find this easy... The entire
Mozilla UI is built from "XUL" files, Javascript snippets and calls to XP-COM
interfaces for services such as RDF query and aggregation. Read up on the
<A HREF="../../xpfe/">Cross Platform front end</A>, which
describes how the user interface is specified in XUL. XUL is an XML
application that allows interfaces to be built using XML, HTML, Javascript
and RDF. The <A HREF="xul-template-reference.html">XUL Template
Reference</A> describes in some detail how XUL widgets (trees, menus) are
populated by querying RDF data graphs. You should read up on the formal 
RDF specs at the <A HREF="http://www.w3.org/RDF/">W3C RDF home page</A> 
and explore the various RDF-in-Mozilla links on this site. In Mozilla,
most interesting data sources manifest themselves to the user interface
through the RDF graph abstraction. There are a number of options to
explore regarding how we
might get data from a Z39.50 server into such a graph and from there into
XUL-based user interface elements. See the <A
HREF="datasource-howto.html">Datasource HOWTO</A> for a step by step guide
for implementors of new RDF datasources.</P>

<P>The basic recipe is as follows:
we compile our component (on as many platforms as possible), implementing
the RDF DataSource APIs and any additional XP-COM APIs we care to define
(perhaps digging out some of the IDL for Z39.50 references floating around). 
We drop the files into the 'components/' directory of Mozilla and when the
browser starts up, it'll inspect the new component, which will dutifully
describe itself so that it can show up in the Javascript, RDF and XUL
world from which Mozilla is built (see also the <A
HREF="http://webreview.com/pub/1999/08/20/feature/index.html">Aug'99
article</A> in WebReview.com for a high level overview of the Mozilla
architecture).
</P>

<P>Here's the basic approach to calling using components from Javascript.
They each have a name (eg. 'component://z3950service') and satisfy one or
more scriptable interfaces. The fictitious snippet below shows the
initialisation of a Z39.50 object that can be treated as if it were an
RDF graph, while also offering a more Z39.50 native interface.</P>
 <PRE>
 var z3950 = Components.classes["component://z3950service"].createInstance();
 z3950 = z3950.QueryInterface(Components.interfaces.nsIRDFDataSource);
 zapi = z3950.QueryInterface(Components.interfaces.IZ3950Service);
</PRE>


<P>What happens next? Firstly, it is important that people don't go away
and expend loads of effort working on something that may not fit in with
the bigger picture sketched in the Mozilla <A
HREF="../../roadmap.html">development roadmap</A> and on
the <A HREF="index.html">Mozilla RDF pages</A>. The best way to ensure
this doesn't happen is to float ideas on the <B>mozilla-rdf</B> forum 
(see the <A
HREF="../../community.html">Community</A> section for
details on accessing this as newsgroup or mailing list).
</P>

<H3>Prototypes</H3>
<P>
This should probably be what happens next! It should be relatively simple
to put something together (eg. CGI script Z39.50 client outputting an 
XML/RDF file) which shows what a Mozilla Z39.50 client might look like. 
Once this is done, it'll be easier to appreciate the issues involved
and figure out what we'd want from a full Z39.50 datasource (see below).
For example: do we want to be able to store query results as bookmarks?
Can we simply use the <A HREF="http://purl.org/dc/">Dublin Core</A> RDF
vocabulary to represent these data structures? 
</P>
<P>
<B>Note</B>also that the M9 Mozilla milestone includes some non-Z39.50
internet search functionality (based on 'screenscraping' results from HTML
pages returned by search engine queries).
</P>

<H2>Roadmap for a Z39.50 RDF datasource</H2>

<P>
If native client-side support for Z39.50 is to be integrated into 
Mozilla, we'll need to find code that implements a Z39.50 client and can
be wrappped up as an RDF data source in Mozilla. It looks as is we can use
the <A HREF="http://www.indexdata.dk/yaz/">Yaz</A> toolkit from <A
HREF="http://www.indexdata.dk/">IndexData</A>, which will give us a pretty
solid base for the Z39.50 client code (Yaz ships under a 
<A HREF="http://www.indexdata.dk/yaz/license.shtml">liberal license</A>
whose main constraints concern attribution statements and 'no warranty
implied'). The main substantive piece of work is likely to be gluing Yaz
to the RDF APIs and thinking through the different ways in which the RDF
and Z39.50 data models might be related.
</P>
<H2>Open Issues</H2>

<P>This should evolve into a more structured issues list on a separate
page; for now, a freeform brainstorm seems more appropriate.</P>

<P>What is Mozilla RDF's notion of a 'searchable thing'? What other
networked search protocols will also be supported in Mozilla? Is it
feasible to
consider adding full Z39.50 support into the client (eg. through contrib'd
library?) or will tunnelling over HTTP (via XML/RDF or otherwise) prove to
be a more realistic option? What constraints are there on code contributed
by 3rd parties? How exactly do we set about hooking up externally authored
libraries (eg. <A HREF="http://www.indexdata.dk/yaz/">Yaz</A>) as 
<A HREF="../../projects/xpcom/">XP-COM</A> plugin datasources?</P>

<TABLE BORDER="1">
<TR><TH>Issue</TH><TH>Summary</TH><TH>Status and notes</TH></TR>

<TR>
<TD VALIGN="TOP">Yaz library</TD>
<TD VALIGN="TOP">Can we get confirmation that Yaz <A
HREF="http://www.indexdata.dk/yaz/license.shtml">license</A> can be used
with Mozilla?</TD> <TD VALIGN="TOP">Need advise from Mozilla org; This
appears to be a <A
HREF="../../NPL/FAQ.html#14">Frequently asked question</A>. It looks like
we don't have a problem here... 

</TD>
</TR>

<TR>
<TD VALIGN="TOP">Service description</TD>
<TD VALIGN="TOP">We'll need an XML/RDF representation of the properties
of various Z39.50 services (connection details, subject coverage etc)
</TD VALIGN="TOP">
<TD VALIGN="TOP">The <A HREF="http://www.gils.net/list/index.html">GILS 
Locator Records</A> (perhaps munged into RDF and Dublin Core?) seem a
good basis for this. Important to coordinate with descriptions of <A
HREF="SmartBrowsing.html">SmartBrowsing</A> and other
RDF data services in Mozilla. Need to find out how this works in rest of
Mozilla (eg. localised configuration of cache services, use of CSS/XUL for 
icon sets, chrome etc...). Also relates to RDF Sitemaps: a sitemap for
some Web service should probably be allowed to contain RDF/XML describing
Z39.50 search targets (and other machine interfaces) where available (need
docs on RDF Sitemaps).
</TD>
<TD VALIGN="TOP">Where does Necko fit in?</TD>
<TD VALIGN="TOP">Necko is the new Mozilla networking library.
Connections to networked servers should go via Necko. It's not
immediately clear how to 'do the right thing' here. </TD>
<TD VALIGN="TOP">
The <A HREF="/docs/netlib/necko.html">Necko overview</A> helps a little but we
really could do with some example code
to copy... Ideally we set about writing a protocol handler associated with
Z39.50 URLs. We also have the notion of Z39.50 tunnelled over HTTP to bear
in mind, which might crosscut such developments...

</TD> </TR>

<TR>
<TD VALIGN="TOP">
Non-Z39.50 searching
</TD>
<TD VALIGN="TOP">
There are likely to be non-Z39.50 search services accessible via RDF/XUL,
eg. portal searches, 'find' in bookmarks. Important to avoid needless
duplication, and to get a roadmap for such work from Mozilla organisation
to plan/coordinate etc.
</TD>
<TD VALIGN="TOP">
<A HREF="http://bugzilla.mozilla.org/show_bug.cgi?id=11347">Bug 11347</A>
against M9 has been filed as a reminder that the roadmaps need updating.
Best way to avoid duplication is to keep discussion on the public forums,
and read back through <A HREF="news://news.mozilla.org/375D5B7F.E0481FE6%40netscape.com">past
threads</A> on RDF search in the newsgroup.</TD>
</TR>

<TR>
<TD VALIGN="TOP">
BER utilities 
</TD>
<TD VALIGN="TOP">
Z39.50 uses ASN.1 and BER encodings; Yaz provides code for dealing with
BER. However, Mozilla's LDAP library will also have BER tools. What best
to do? </TD>
<TD VALIGN="TOP">
Find out whether the LDAP BER utilities be explosed via XP-COM or
otherwise usable. Does the duplication matter that much - versus added
complexity of liaising with LDAP work. Aside: is an LDAP RDF datasource
still planned? <BR>
From Sebastian: <EM>
If we can build it all as a run-time loadable module, then the overhead of
carrying two BER stacks around is less significant. I believe the size of
the BER code itself is smaller than the higher-level layers which encode
the actual, structured Z39.50 (or LDAP) PDUs.
<BR>
[Status: <B>CLOSED</B>] <BR>
General consensus that is better to use the Yaz BER libraries

</EM>
 </TD>
</TR>

</TABLE>


<H2>Discussion</H2>

<P>See the main <A HREF="index.html">Mozilla RDF</A> pages for links to
relevant lists/newsgroups.
</P>

<H2>Resources</H2>

<H3>Z39.50 reading</H3>
<UL>

<LI><A HREF="http://lcweb.loc.gov/z3950/agency/">Z39.50 Maintainance
Agency</A> at the Library of Congress</LI>


<LI><A HREF="http://www.biblio-tech.com/html/z39_50_core.html">Z39.50 Core
Services</A> - a nice overview of the protocol

<LI><A HREF="http://www.dlib.org/dlib/april97/04lynch.html">The Z39.50
Information Retrieval Standard</A> (D-Lib article by Clifford Lynch)

<LI><A HREF="http://lcweb.loc.gov/z3950/agency/document.html">The Z39.50
specification</A> (the spec itself)</LI>

<LI>Example datasources - <A HREF="http://www.gils.net/list/index.html">GILS Locator
Records</A> describing in XML a large number of Z39.50 servers</LI>

<LI><A HREF="http://www.mailbase.ac.uk/lists/rdf-dev/1998-06/0008.html">a
draft proposal</A> from Eliot Christian that provides an RDF Schema for
the GILS locator records (see also an <A
HREF="http://www.mailbase.ac.uk/lists/rdf-dev/1999-06/0027.html">opinion 
piece on Z39.50 and the RDF Semantic Web...</A>)</LI>


<LI>The <A HREF="http://www.indexdata.dk/yaz/">Yaz</A> Z39.50 programmer's
toolkit from <A HREF="http://www.indexdata.dk/">IndexData</A> (candidate
code for use with Mozilla)

<LI><A HREF="http://lcweb.loc.gov/z3950/agency/zhttp.html">Profile for
Z39.50 over HTTP (draft)</A>
<LI><A
HREF="http://lcweb.loc.gov/z3950/agency/attrarch/attrarch.html">Z39.50
Attribute Architecture</A>


<LI>The <A HREF="http://asf.gils.net/xer">XER encoding rules</A> (proposal
to replace the traditional BER encoding of ASN.1 data structures with
an XML representation)
</LI>


<LI>More <A
HREF="http://www.ilrt.bris.ac.uk/discovery/z3950/resources/">Z39.50
related resources</A> for background reading. 
</LI>

<LI>See also <A
HREF="http://www.w3.org/TandS/QL/QL98/pp/distributed.html">Query
Language Issues in a Distributed Indexing Environment</A> (discussion
paper from QL'98 workshop)
</LI>


</UL>
<H3>Mozilla reading</H3>
<UL>


<LI><A HREF="http://www.mozilla.org/roadmap.html">Mozilla development roadmap</A>
<LI><A HREF="../../get-involved.html">Getting involved...</A></LI>
<LI><A HREF="datasource-howto.html">RDF Datasource HOWTO</A></LI>
<LI><A HREF="../../projects/xpcom/">XP-COM home page</A>
<LI><A HREF="../../scriptable/roadmap.html">Roadmap for XPCOM, XP-Connect, XPTCall and XPIDL</A></LI>
<LI>it might be worth having a look at the <A
HREF="http://www.mozilla.org/directory/">directory / LDAP</A> code in
Mozilla, since the LDAP 
<A HREF="http://www.mozilla.org/directory/sourcedocs.html">libraries</A>
provide tools to handle BER encoded
messages.


</UL>


<H3>Disclaimer</H3>

<P>
This is an exploratory project, and an experiment to see whether we can
make it easy for the Z39.50 community to contribute their expertise to the 
search environment under construction for Mozilla. It does <EM>not</EM>
constitute any commitment to ship Z code with the '5.0' release, nor a
promise that a great deal of engineering resources can be poured into this
problem. This probably doesn't need stating, since Mozilla isn't
NSCP/AOL. Basically, it's likely that some XML/RDF-based client/server
metadata search functionality will appear in the Mozilla browser.
Hopefully, this will be informed by and compatible with existing Z39.50
implementations. But we need your help... 
</P>                      
             

<hr>
<SMALL>
Author: Dan Brickley <A HREF="mailto:daniel.brickley@bristol.ac.uk">daniel.brickley@bristol.ac.uk</A><BR>
Last Updated: $Id: z3950.html,v 1.6 1999/08/22 19:48:30 daniel.brickley%bristol.ac.uk Exp $ <br>
</SMALL>






</TD>

</TR>
<TR>

<TD COLSPAN="2" ALIGN="RIGHT" VALIGN="TOP">
<FONT SIZE="-1">
Copyright &copy; 1998-1999 The Mozilla Organization.
<BR>
<A HREF="http://www.mozilla.org/webtools/bonsai/cvslog.cgi?file=mozilla-org/html/rdf/doc/z3950.html&amp;rev=&amp;root=/cvsroot/">Last modified August 22,  1999</A>.
</FONT>
</TD>
</TR>

</TABLE>
</BODY>
</HTML>
