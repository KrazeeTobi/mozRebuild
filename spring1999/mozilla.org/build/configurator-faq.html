<HTML>
<HEAD>
<TITLE>Mozilla Configurator FAQ</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000"
LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000"
MARGINHEIGHT=0 MARGINWIDTH=0>

<MAP NAME="banner">
<AREA SHAPE=RECT COORDS="300,11,558,44" HREF="http://www.mozilla.org/">
</MAP>

<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">
<TR><TD BGCOLOR="#000000" VALIGN=TOP ROWSPAN=2><IMG
SRC="../images/mozilla-banner.gif"
ALT="" BORDER=0 USEMAP="#banner"
WIDTH=600 HEIGHT=58 VSPACE=0 HSPACE=0></TD></TR></TABLE>
<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 WIDTH="100%">

<TR>


<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>



<TD BGCOLOR="#DDDDDD" VALIGN=TOP COLSPAN=2><IMG ALT=""
SRC="../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP><IMG ALT=""
SRC="../images/curve1.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP ALIGN=RIGHT>
</TD>


<TD VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../images/curve3.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

</TR>


<TR>

<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD BGCOLOR="#DDDDDD" VALIGN=TOP COLSPAN=3>

<BR><TABLE CELLPADDING=0 CELLSPACING=3 BORDER=0>
<TR><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="..//"><B> The Mozilla<BR>Organization</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../mission.html"> Our Mission</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../about.html"> Who We Are</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../get-involved.html"> Getting Involved</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../community.html"> Community</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../advocacy.html"> Editorials</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../news.html"> What's New</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../newsbot/"> Newsbot</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../development.html"><B> Development</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../roadmap.html"> Roadmap</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../owners.html"> Module Owners</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../blue-sky/"> Blue Sky</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../projects.html"> Projects</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../status/"> Status</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../tools.html"> Tools</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../products.html"><B> Products</B></A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../source.html"> Source Code</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../binaries.html"> Binaries</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../docs/"> Documentation</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../NPL/"> License Terms</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../bugs/"> Bug Reports</A></TD></TR>
<TR><TD></TD><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=18><A HREF="../quality/"> Quality</A></TD></TR>
<TR><TD NOWRAP VALIGN=TOP COLSPAN=20><B></B></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../search.html"><B> Search</B></A></TD></TR>
<TR><TD VALIGN=TOP><IMG SRC="../images/bullet1.gif" ALT="" WIDTH=8 HEIGHT=8 HSPACE=2 VSPACE=3></TD><TD NOWRAP COLSPAN=19><A HREF="../feedback.html"><B> Feedback</B></A></TD></TR>
</TABLE><BR>
</TD>


<TD BGCOLOR="#000000" VALIGN=TOP ALIGN=RIGHT><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=TOP ALIGN=RIGHT>
</TD>


<TD VALIGN=TOP>
<P><BR>


  
  

  


<font size='+2' face='Helvetica,Arial'><b>
Configurator FAQ
</b></font>
<p>
<font size='+1' face='Helvetica,Arial'><b>
Stephen Lamm, 
<TT><A HREF="mailto:slamm@netscape.com">slamm@netscape.com</A></tt>
</b></font><br>

<!-- Created: Fri Mar 12 15:51:15 PST 1999 -->
<!-- hhmts start -->
Last modified: Wed Mar 31 09:02:59 PST 1999
<!-- hhmts end -->

<table cellspacing=20 cellpadding=0 border=0><tr bgcolor='#F0A000'><td>
<table cellpadding=10 cellspacing=3 border=0><tr bgcolor='#FFFFFF'><td>
<table cellpadding=2 cellspacing=0 border=0>
<tr valign=top><td>Q.</td><td> <a href='#q1'> What are the 
   Unix Build Configurator and <code><b>client.mk</b></code>?
</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q2'> How does it work?
</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q3'> Can I still do all the build steps by hand?
</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q4'> Can I reload and existing '.mozconfig'?
</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q5'> How do I force <code><b>client.mk</b></code> to run autoconf?
</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q6'> How do I use .mozconfig with more than one tree?
</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q7'> What is the best way to build with dependencies? Should I use 'make
    depend'?

</a></td></tr><tr valign=top><td>Q.</td><td> <a href='#q8'> I changed a Makefile.in file. How to do I update the Makefile?
</a></td></tr></table>
</td></tr></table>
</td></tr></table>
<table cellpading=2 cellspacing=0>
<tr valign=top><td><A name='q1'><b>Q.</b></a></td><td>
 What are the <a href="http://cvs-mirror.mozilla.org/build/config.cgi">
   Unix Build Configurator</a> and <code><b>client.mk</b></code>?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> The Unix Build Configurator is a CGI form for picking and
   saving build options.<br>
   <code><b>client.mk</b></code> has been around for a while, but I never used
   it because there was no easy way to pass options into it. It used a set of 
   environment variable to control parameters. However, these variables had no
   direct correlation to the options that <code><b>configure</b></code> used.
   <p>
   The <code><b>.mozconfig</b></code> script describes build options in a way
   that both
   <code><b>client.mk</b></code> and <code><b>configure</b></code> understand.
   It saves you the trouble of typing the options on the command-line all the 
   time. Of course, you are still welcome to type options on the command-line
   if you want. Any options you give <code><b>configure</b></code> on the
   command-line will be listed after the <code><b>.mozconfig</b></code> options.
   In this way, you can override individual <code><b>.mozconfig</b></code> options.

</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q2'><b>Q.</b></a></td><td>
 How does it work?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> The Build Configurator produces a script,
   <code><b>.mozconfig</b></code>, that you save in your home
   directory. When <code><b>client.mk</b></code> runs, it reads in the
   options that apply to it (e.g. object dirctory).
   When <code><b>configure</b></code> runs, it also reads in the options that
   it understands.
   <p>
   If you are interested in more of the details, you can start by looking at
   the <a href="http://cvs-mirror.mozilla.org/webtools/build/README">
   README</a> file. Or, 
   <a href="mailto:slamm@netscape.com?Subject=About the Configuator">
   send me an email</a>.

</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q3'><b>Q.</b></a></td><td>
 Can I still do all the build steps by hand?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> Absolutely. Fill free to mix and match build steps.

</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q4'><b>Q.</b></a></td><td>
 Can I reload and existing '.mozconfig'?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> Yes. 
    <ul><code>
       cd mozilla<br>
       gmake -f client.mk webconfig
    </code></ul>
   It uses<code><b> netscape -remote</b></code>, so make sure you have 
   netscape running. I also plan to add a "Load .mozconfig" button to the
   form.

</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q5'><b>Q.</b></a></td><td>
 How do I force <code><b>client.mk</b></code> to run autoconf?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> Set the environment variable <code>RUN_AUTOCONF_LOCALLY</code>.
    You should not need to do this unless you are making changes to
    <code><b>configure.in</b></code>.
    The <code><b>configure</b></code> script gets updated automatically
    anytime someone makes a change to <code><b>configure.in</b></code>.

</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q6'><b>Q.</b></a></td><td>
 How do I use .mozconfig with more than one tree?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> If you want to use different options with different trees, you
    can save a ".mozconfig" as mozilla/.mozconfig in the root of the tree.
    That file will be read instead of the .mozconfig in your home
    directory.
    If you only want to override an option or two, you could save a
    mozilla/.mozconfig like the following,
    <ul><code>
       # mozilla/.mozconfig<br>
       . $HOME/.mozconfig<br>
       ac_add_options --disable-debug
    </code></ul>

</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q7'><b>Q.</b></a></td><td>
 What is the best way to build with dependencies? Should I use 'make
    depend'?

</td></tr><tr valign=top><td>
<b>A.</b></td><td> If you are building with gcc or egcs, you should build with
    --enable-md. This causes the compiler to generate the dependencies
	when the objects are build. With this option, there is no need
	to run 'make depend'.
   There are some issues with --enable-md and building with 'make
	-j8'. slamm plans to have a fix for this real soon.

</td></tr><tr><td>&nbsp;</td></tr><tr valign=top><td><A name='q8'><b>Q.</b></a></td><td>
 I changed a Makefile.in file. How to do I update the Makefile?
</td></tr><tr valign=top><td>
<b>A.</b></td><td> <code><b>make</b></code> will update the Makefile for you. It has
   a dependency rule to update the Makefile,
    <ul><code>
       $(OBJDIR)/Makefile: Makefile.in
             <ul>@echo Updating $@<br>
             $(topsrcdir)/build/autoconf/update-makefile.sh</ul>
    </code></ul>


</td></tr></table>
<p>
<hr align=left>
           Send questions or comments to 
           &lt;<a href="mailto:slamm@netscape.com?subject=About the Configurator FAQ">slamm@netcape.com</a>&gt;.
	</form>



<P><BR>
</TD>


<TD VALIGN=TOP ALIGN=RIGHT>
</TD>


<TD BGCOLOR="#000000" VALIGN=TOP><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

</TR>


<TR>


<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM COLSPAN=2><IMG ALT=""
SRC="../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#DDDDDD" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>


<TD VALIGN=BOTTOM COLSPAN=2><IMG ALT=""
SRC="../images/curve2.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../images/curve4.gif"
WIDTH=16 HEIGHT=16 HSPACE=0 VSPACE=0></TD>

<TD BGCOLOR="#000000" VALIGN=BOTTOM ALIGN=RIGHT><IMG ALT=""
SRC="../images/bit.gif"
WIDTH=4 HEIGHT=16 HSPACE=0 VSPACE=0></TD>
</TR>

<TR>

<TD BGCOLOR="#000000" COLSPAN=6><BR></TD>

<TD BGCOLOR="#000000" VALIGN=TOP>

<FONT COLOR="#AAAAAA" SIZE="-1">
Copyright &copy; 1998 The Mozilla Organization.
</FONT>

</TD>

<TD BGCOLOR="#000000" COLSPAN=2><BR></TD>
</TR>

</TABLE>
<P>
</BODY>
</HTML>
